{
  "processor": "Zilog Z180",
  "manufacturer": "Zilog",
  "year": 1985,
  "schema_version": "1.0",
  "source": "Z180 MPU datasheet, Zilog 1985",
  "clock_mhz_range": "6.0-33.0",
  "instruction_count": 285,
  "notes": "Z80-compatible superset with faster execution (fewer T-states for many instructions), built-in MMU (1MB address space), two DMA channels, two serial ports, and clocked serial I/O. Most Z80 instructions execute in fewer T-states. New instructions: MLT (8x8 multiply), TST (test byte), TSTIO, IN0/OUT0 (direct I/O), SLP (sleep), OTDM/OTDMR/OTIM/OTIMR (DMA-like block I/O). Undocumented Z80 instructions (SLL, IX/IY half-register ops) are NOT supported.",
  "instructions": [
    {"mnemonic": "NOP", "opcode": "0x00", "bytes": 1, "cycles": 3, "category": "nop", "addressing_mode": "implied", "flags_affected": "", "notes": "Z80=4T, Z180=3T"},
    {"mnemonic": "LD BC,nn", "opcode": "0x01", "bytes": 3, "cycles": 9, "category": "data_transfer", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": "Z80=10T"},
    {"mnemonic": "LD (BC),A", "opcode": "0x02", "bytes": 1, "cycles": 6, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "", "notes": "Z80=7T"},
    {"mnemonic": "INC BC", "opcode": "0x03", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "", "notes": "Z80=6T"},
    {"mnemonic": "INC B", "opcode": "0x04", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH-V-", "notes": "Same as Z80"},
    {"mnemonic": "DEC B", "opcode": "0x05", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH-V-", "notes": ""},
    {"mnemonic": "LD B,n", "opcode": "0x06", "bytes": 2, "cycles": 6, "category": "data_transfer", "addressing_mode": "immediate", "flags_affected": "", "notes": "Z80=7T"},
    {"mnemonic": "RLCA", "opcode": "0x07", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "implied", "flags_affected": "H0C", "notes": "Z80=4T"},
    {"mnemonic": "EX AF,AF'", "opcode": "0x08", "bytes": 1, "cycles": 3, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "", "notes": "Z80=4T"},
    {"mnemonic": "ADD HL,BC", "opcode": "0x09", "bytes": 1, "cycles": 7, "category": "alu", "addressing_mode": "register", "flags_affected": "-H-C", "notes": "Z80=11T"},
    {"mnemonic": "LD A,(BC)", "opcode": "0x0A", "bytes": 1, "cycles": 6, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "", "notes": "Z80=7T"},
    {"mnemonic": "DEC BC", "opcode": "0x0B", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "", "notes": "Z80=6T"},
    {"mnemonic": "INC C", "opcode": "0x0C", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH-V-", "notes": ""},
    {"mnemonic": "DEC C", "opcode": "0x0D", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH-V-", "notes": ""},
    {"mnemonic": "LD C,n", "opcode": "0x0E", "bytes": 2, "cycles": 6, "category": "data_transfer", "addressing_mode": "immediate", "flags_affected": "", "notes": "Z80=7T"},
    {"mnemonic": "RRCA", "opcode": "0x0F", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "implied", "flags_affected": "H0C", "notes": "Z80=4T"},

    {"mnemonic": "DJNZ e", "opcode": "0x10", "bytes": 2, "cycles": 9, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "9T if B!=0, 7T if B=0; Z80=13/8T"},
    {"mnemonic": "LD DE,nn", "opcode": "0x11", "bytes": 3, "cycles": 9, "category": "data_transfer", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": ""},
    {"mnemonic": "LD (DE),A", "opcode": "0x12", "bytes": 1, "cycles": 6, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "", "notes": ""},
    {"mnemonic": "INC DE", "opcode": "0x13", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "", "notes": ""},
    {"mnemonic": "INC D", "opcode": "0x14", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH-V-", "notes": ""},
    {"mnemonic": "DEC D", "opcode": "0x15", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH-V-", "notes": ""},
    {"mnemonic": "LD D,n", "opcode": "0x16", "bytes": 2, "cycles": 6, "category": "data_transfer", "addressing_mode": "immediate", "flags_affected": "", "notes": ""},
    {"mnemonic": "RLA", "opcode": "0x17", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "implied", "flags_affected": "H0C", "notes": ""},
    {"mnemonic": "JR e", "opcode": "0x18", "bytes": 2, "cycles": 8, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "Z80=12T"},
    {"mnemonic": "ADD HL,DE", "opcode": "0x19", "bytes": 1, "cycles": 7, "category": "alu", "addressing_mode": "register", "flags_affected": "-H-C", "notes": ""},
    {"mnemonic": "LD A,(DE)", "opcode": "0x1A", "bytes": 1, "cycles": 6, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "", "notes": ""},
    {"mnemonic": "DEC DE", "opcode": "0x1B", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "", "notes": ""},
    {"mnemonic": "RRA", "opcode": "0x1F", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "implied", "flags_affected": "H0C", "notes": ""},

    {"mnemonic": "JR NZ,e", "opcode": "0x20", "bytes": 2, "cycles": 8, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "8T taken, 6T not; Z80=12/7T"},
    {"mnemonic": "LD HL,nn", "opcode": "0x21", "bytes": 3, "cycles": 9, "category": "data_transfer", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": ""},
    {"mnemonic": "LD (nn),HL", "opcode": "0x22", "bytes": 3, "cycles": 15, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "", "notes": "Z80=16T"},
    {"mnemonic": "INC HL", "opcode": "0x23", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "", "notes": ""},
    {"mnemonic": "DAA", "opcode": "0x27", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "implied", "flags_affected": "SZHPC", "notes": ""},
    {"mnemonic": "JR Z,e", "opcode": "0x28", "bytes": 2, "cycles": 8, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "8/6T"},
    {"mnemonic": "ADD HL,HL", "opcode": "0x29", "bytes": 1, "cycles": 7, "category": "alu", "addressing_mode": "register", "flags_affected": "-H-C", "notes": ""},
    {"mnemonic": "LD HL,(nn)", "opcode": "0x2A", "bytes": 3, "cycles": 15, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "", "notes": ""},
    {"mnemonic": "CPL", "opcode": "0x2F", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "implied", "flags_affected": "H1N1", "notes": "Z80=4T"},

    {"mnemonic": "JR NC,e", "opcode": "0x30", "bytes": 2, "cycles": 8, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "8/6T"},
    {"mnemonic": "LD SP,nn", "opcode": "0x31", "bytes": 3, "cycles": 9, "category": "data_transfer", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": ""},
    {"mnemonic": "LD (nn),A", "opcode": "0x32", "bytes": 3, "cycles": 12, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "", "notes": "Z80=13T"},
    {"mnemonic": "INC SP", "opcode": "0x33", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "", "notes": ""},
    {"mnemonic": "INC (HL)", "opcode": "0x34", "bytes": 1, "cycles": 10, "category": "alu", "addressing_mode": "register_indirect", "flags_affected": "SZH-V-", "notes": "Z80=11T"},
    {"mnemonic": "DEC (HL)", "opcode": "0x35", "bytes": 1, "cycles": 10, "category": "alu", "addressing_mode": "register_indirect", "flags_affected": "SZH-V-", "notes": "Z80=11T"},
    {"mnemonic": "LD (HL),n", "opcode": "0x36", "bytes": 2, "cycles": 9, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "", "notes": "Z80=10T"},
    {"mnemonic": "SCF", "opcode": "0x37", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "implied", "flags_affected": "H0C1", "notes": "Z80=4T"},
    {"mnemonic": "JR C,e", "opcode": "0x38", "bytes": 2, "cycles": 8, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "8/6T"},
    {"mnemonic": "ADD HL,SP", "opcode": "0x39", "bytes": 1, "cycles": 7, "category": "alu", "addressing_mode": "register", "flags_affected": "-H-C", "notes": ""},
    {"mnemonic": "LD A,(nn)", "opcode": "0x3A", "bytes": 3, "cycles": 12, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "", "notes": "Z80=13T"},
    {"mnemonic": "CCF", "opcode": "0x3F", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "implied", "flags_affected": "H?C", "notes": "Z80=4T"},

    {"mnemonic": "LD r,r'", "opcode": "0x40-7F", "bytes": 1, "cycles": 4, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "", "notes": "Register to register; same as Z80. 49 opcodes (7x7 excluding (HL))"},
    {"mnemonic": "LD r,(HL)", "opcode": "0x46/4E/56/5E/66/6E/7E", "bytes": 1, "cycles": 6, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "", "notes": "Z80=7T. 7 opcodes for B,C,D,E,H,L,A"},
    {"mnemonic": "LD (HL),r", "opcode": "0x70-77", "bytes": 1, "cycles": 6, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "", "notes": "Z80=7T. 7 opcodes"},
    {"mnemonic": "HALT", "opcode": "0x76", "bytes": 1, "cycles": 3, "category": "special", "addressing_mode": "implied", "flags_affected": "", "notes": "Z80=4T"},

    {"mnemonic": "ADD A,r", "opcode": "0x80-87", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHVNC", "notes": "(HL) variant=6T; Z80 (HL)=7T"},
    {"mnemonic": "ADC A,r", "opcode": "0x88-8F", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHVNC", "notes": "(HL)=6T"},
    {"mnemonic": "SUB r", "opcode": "0x90-97", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHVNC", "notes": "(HL)=6T"},
    {"mnemonic": "SBC A,r", "opcode": "0x98-9F", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHVNC", "notes": "(HL)=6T"},
    {"mnemonic": "AND r", "opcode": "0xA0-A7", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH1PNC", "notes": "(HL)=6T"},
    {"mnemonic": "XOR r", "opcode": "0xA8-AF", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH0PNC", "notes": "(HL)=6T"},
    {"mnemonic": "OR r", "opcode": "0xB0-B7", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH0PNC", "notes": "(HL)=6T"},
    {"mnemonic": "CP r", "opcode": "0xB8-BF", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHVNC", "notes": "(HL)=6T"},

    {"mnemonic": "ADD A,n", "opcode": "0xC6", "bytes": 2, "cycles": 6, "category": "alu", "addressing_mode": "immediate", "flags_affected": "SZHVNC", "notes": "Z80=7T"},
    {"mnemonic": "ADC A,n", "opcode": "0xCE", "bytes": 2, "cycles": 6, "category": "alu", "addressing_mode": "immediate", "flags_affected": "SZHVNC", "notes": ""},
    {"mnemonic": "SUB n", "opcode": "0xD6", "bytes": 2, "cycles": 6, "category": "alu", "addressing_mode": "immediate", "flags_affected": "SZHVNC", "notes": ""},
    {"mnemonic": "SBC A,n", "opcode": "0xDE", "bytes": 2, "cycles": 6, "category": "alu", "addressing_mode": "immediate", "flags_affected": "SZHVNC", "notes": ""},
    {"mnemonic": "AND n", "opcode": "0xE6", "bytes": 2, "cycles": 6, "category": "alu", "addressing_mode": "immediate", "flags_affected": "SZH1PNC", "notes": ""},
    {"mnemonic": "XOR n", "opcode": "0xEE", "bytes": 2, "cycles": 6, "category": "alu", "addressing_mode": "immediate", "flags_affected": "SZH0PNC", "notes": ""},
    {"mnemonic": "OR n", "opcode": "0xF6", "bytes": 2, "cycles": 6, "category": "alu", "addressing_mode": "immediate", "flags_affected": "SZH0PNC", "notes": ""},
    {"mnemonic": "CP n", "opcode": "0xFE", "bytes": 2, "cycles": 6, "category": "alu", "addressing_mode": "immediate", "flags_affected": "SZHVNC", "notes": ""},

    {"mnemonic": "RET cc", "opcode": "0xC0/C8/D0/D8/E0/E8/F0/F8", "bytes": 1, "cycles": 9, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "9T if taken, 4T if not; Z80=11/5T"},
    {"mnemonic": "RET", "opcode": "0xC9", "bytes": 1, "cycles": 9, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Z80=10T"},
    {"mnemonic": "POP BC", "opcode": "0xC1", "bytes": 1, "cycles": 9, "category": "stack", "addressing_mode": "implied", "flags_affected": "", "notes": "Z80=10T"},
    {"mnemonic": "POP DE", "opcode": "0xD1", "bytes": 1, "cycles": 9, "category": "stack", "addressing_mode": "implied", "flags_affected": "", "notes": ""},
    {"mnemonic": "POP HL", "opcode": "0xE1", "bytes": 1, "cycles": 9, "category": "stack", "addressing_mode": "implied", "flags_affected": "", "notes": ""},
    {"mnemonic": "POP AF", "opcode": "0xF1", "bytes": 1, "cycles": 9, "category": "stack", "addressing_mode": "implied", "flags_affected": "", "notes": ""},
    {"mnemonic": "PUSH BC", "opcode": "0xC5", "bytes": 1, "cycles": 11, "category": "stack", "addressing_mode": "implied", "flags_affected": "", "notes": "Same as Z80"},
    {"mnemonic": "PUSH DE", "opcode": "0xD5", "bytes": 1, "cycles": 11, "category": "stack", "addressing_mode": "implied", "flags_affected": "", "notes": ""},
    {"mnemonic": "PUSH HL", "opcode": "0xE5", "bytes": 1, "cycles": 11, "category": "stack", "addressing_mode": "implied", "flags_affected": "", "notes": ""},
    {"mnemonic": "PUSH AF", "opcode": "0xF5", "bytes": 1, "cycles": 11, "category": "stack", "addressing_mode": "implied", "flags_affected": "", "notes": ""},

    {"mnemonic": "JP cc,nn", "opcode": "0xC2/CA/D2/DA/E2/EA/F2/FA", "bytes": 3, "cycles": 9, "category": "control", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": "9T taken, 6T not; Z80=10T always"},
    {"mnemonic": "JP nn", "opcode": "0xC3", "bytes": 3, "cycles": 9, "category": "control", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": "Z80=10T"},
    {"mnemonic": "CALL cc,nn", "opcode": "0xC4/CC/D4/DC/E4/EC/F4/FC", "bytes": 3, "cycles": 16, "category": "control", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": "16T taken, 9T not; Z80=17/10T"},
    {"mnemonic": "CALL nn", "opcode": "0xCD", "bytes": 3, "cycles": 16, "category": "control", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": "Z80=17T"},
    {"mnemonic": "RST p", "opcode": "0xC7/CF/D7/DF/E7/EF/F7/FF", "bytes": 1, "cycles": 11, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Same as Z80"},
    {"mnemonic": "JP (HL)", "opcode": "0xE9", "bytes": 1, "cycles": 3, "category": "control", "addressing_mode": "register_indirect", "flags_affected": "", "notes": "Z80=4T"},

    {"mnemonic": "OUT (n),A", "opcode": "0xD3", "bytes": 2, "cycles": 10, "category": "io", "addressing_mode": "immediate", "flags_affected": "", "notes": "Z80=11T"},
    {"mnemonic": "IN A,(n)", "opcode": "0xDB", "bytes": 2, "cycles": 9, "category": "io", "addressing_mode": "immediate", "flags_affected": "", "notes": "Z80=11T"},
    {"mnemonic": "EXX", "opcode": "0xD9", "bytes": 1, "cycles": 3, "category": "data_transfer", "addressing_mode": "implied", "flags_affected": "", "notes": "Z80=4T"},
    {"mnemonic": "EX DE,HL", "opcode": "0xEB", "bytes": 1, "cycles": 3, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "", "notes": "Z80=4T"},
    {"mnemonic": "EX (SP),HL", "opcode": "0xE3", "bytes": 1, "cycles": 16, "category": "data_transfer", "addressing_mode": "indirect", "flags_affected": "", "notes": "Z80=19T"},
    {"mnemonic": "LD SP,HL", "opcode": "0xF9", "bytes": 1, "cycles": 4, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "", "notes": "Z80=6T"},
    {"mnemonic": "DI", "opcode": "0xF3", "bytes": 1, "cycles": 3, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Z80=4T"},
    {"mnemonic": "EI", "opcode": "0xFB", "bytes": 1, "cycles": 3, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Z80=4T"},

    {"mnemonic": "RLC r", "opcode": "0xCB00-07", "bytes": 2, "cycles": 7, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH0PNC", "notes": "CB prefix: Z80=8T; (HL)=13T (Z80=15T)"},
    {"mnemonic": "RRC r", "opcode": "0xCB08-0F", "bytes": 2, "cycles": 7, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH0PNC", "notes": "(HL)=13T"},
    {"mnemonic": "RL r", "opcode": "0xCB10-17", "bytes": 2, "cycles": 7, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH0PNC", "notes": "(HL)=13T"},
    {"mnemonic": "RR r", "opcode": "0xCB18-1F", "bytes": 2, "cycles": 7, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH0PNC", "notes": "(HL)=13T"},
    {"mnemonic": "SLA r", "opcode": "0xCB20-27", "bytes": 2, "cycles": 7, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH0PNC", "notes": "(HL)=13T"},
    {"mnemonic": "SRA r", "opcode": "0xCB28-2F", "bytes": 2, "cycles": 7, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH0PNC", "notes": "(HL)=13T"},
    {"mnemonic": "SRL r", "opcode": "0xCB38-3F", "bytes": 2, "cycles": 7, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH0PNC", "notes": "(HL)=13T"},
    {"mnemonic": "BIT b,r", "opcode": "0xCB40-7F", "bytes": 2, "cycles": 6, "category": "bit", "addressing_mode": "register", "flags_affected": "SZH1PN", "notes": "Z80=8T; (HL)=9T (Z80=12T)"},
    {"mnemonic": "RES b,r", "opcode": "0xCB80-BF", "bytes": 2, "cycles": 7, "category": "bit", "addressing_mode": "register", "flags_affected": "", "notes": "Z80=8T; (HL)=13T (Z80=15T)"},
    {"mnemonic": "SET b,r", "opcode": "0xCBC0-FF", "bytes": 2, "cycles": 7, "category": "bit", "addressing_mode": "register", "flags_affected": "", "notes": "Z80=8T; (HL)=13T (Z80=15T)"},

    {"mnemonic": "NEG", "opcode": "0xED44", "bytes": 2, "cycles": 6, "category": "alu", "addressing_mode": "implied", "flags_affected": "SZHVNC", "notes": "Z80=8T"},
    {"mnemonic": "LD A,I", "opcode": "0xED57", "bytes": 2, "cycles": 6, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "SZ0P-", "notes": "Z80=9T"},
    {"mnemonic": "LD A,R", "opcode": "0xED5F", "bytes": 2, "cycles": 6, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "SZ0P-", "notes": "Z80=9T"},
    {"mnemonic": "LD I,A", "opcode": "0xED47", "bytes": 2, "cycles": 6, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "", "notes": "Z80=9T"},
    {"mnemonic": "LD R,A", "opcode": "0xED4F", "bytes": 2, "cycles": 6, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "", "notes": "Z80=9T"},
    {"mnemonic": "IM 0", "opcode": "0xED46", "bytes": 2, "cycles": 6, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Z80=8T"},
    {"mnemonic": "IM 1", "opcode": "0xED56", "bytes": 2, "cycles": 6, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Z80=8T"},
    {"mnemonic": "IM 2", "opcode": "0xED5E", "bytes": 2, "cycles": 6, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Z80=8T"},
    {"mnemonic": "RETI", "opcode": "0xED4D", "bytes": 2, "cycles": 12, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Z80=14T"},
    {"mnemonic": "RETN", "opcode": "0xED45", "bytes": 2, "cycles": 12, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Z80=14T"},
    {"mnemonic": "RRD", "opcode": "0xED67", "bytes": 2, "cycles": 16, "category": "alu", "addressing_mode": "implied", "flags_affected": "SZH0PN", "notes": "Z80=18T"},
    {"mnemonic": "RLD", "opcode": "0xED6F", "bytes": 2, "cycles": 16, "category": "alu", "addressing_mode": "implied", "flags_affected": "SZH0PN", "notes": "Z80=18T"},

    {"mnemonic": "ADC HL,ss", "opcode": "0xED4A/5A/6A/7A", "bytes": 2, "cycles": 10, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHVNC", "notes": "Z80=15T"},
    {"mnemonic": "SBC HL,ss", "opcode": "0xED42/52/62/72", "bytes": 2, "cycles": 10, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHVNC", "notes": "Z80=15T"},
    {"mnemonic": "LD dd,(nn)", "opcode": "0xED4B/5B/6B/7B", "bytes": 4, "cycles": 18, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "", "notes": "Z80=20T"},
    {"mnemonic": "LD (nn),dd", "opcode": "0xED43/53/63/73", "bytes": 4, "cycles": 18, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "", "notes": "Z80=20T"},

    {"mnemonic": "IN r,(C)", "opcode": "0xED40-78", "bytes": 2, "cycles": 9, "category": "io", "addressing_mode": "register_indirect", "flags_affected": "SZH0PN", "notes": "Z80=12T"},
    {"mnemonic": "OUT (C),r", "opcode": "0xED41-79", "bytes": 2, "cycles": 10, "category": "io", "addressing_mode": "register_indirect", "flags_affected": "", "notes": "Z80=12T"},

    {"mnemonic": "LDI", "opcode": "0xEDA0", "bytes": 2, "cycles": 12, "category": "block", "addressing_mode": "implied", "flags_affected": "H0VN0", "notes": "Z80=16T"},
    {"mnemonic": "LDIR", "opcode": "0xEDB0", "bytes": 2, "cycles": 14, "category": "block", "addressing_mode": "implied", "flags_affected": "H0V0N0", "notes": "14T/BC!=0, 12T/BC=0; Z80=21/16T"},
    {"mnemonic": "LDD", "opcode": "0xEDA8", "bytes": 2, "cycles": 12, "category": "block", "addressing_mode": "implied", "flags_affected": "H0VN0", "notes": "Z80=16T"},
    {"mnemonic": "LDDR", "opcode": "0xEDB8", "bytes": 2, "cycles": 14, "category": "block", "addressing_mode": "implied", "flags_affected": "H0V0N0", "notes": "14/12T; Z80=21/16T"},
    {"mnemonic": "CPI", "opcode": "0xEDA1", "bytes": 2, "cycles": 12, "category": "block", "addressing_mode": "implied", "flags_affected": "SZHVN1", "notes": "Z80=16T"},
    {"mnemonic": "CPIR", "opcode": "0xEDB1", "bytes": 2, "cycles": 14, "category": "block", "addressing_mode": "implied", "flags_affected": "SZHVN1", "notes": "14/12T; Z80=21/16T"},
    {"mnemonic": "CPD", "opcode": "0xEDA9", "bytes": 2, "cycles": 12, "category": "block", "addressing_mode": "implied", "flags_affected": "SZHVN1", "notes": "Z80=16T"},
    {"mnemonic": "CPDR", "opcode": "0xEDB9", "bytes": 2, "cycles": 14, "category": "block", "addressing_mode": "implied", "flags_affected": "SZHVN1", "notes": "14/12T; Z80=21/16T"},

    {"mnemonic": "INI", "opcode": "0xEDA2", "bytes": 2, "cycles": 12, "category": "io", "addressing_mode": "implied", "flags_affected": "ZN1", "notes": "Z80=16T"},
    {"mnemonic": "INIR", "opcode": "0xEDB2", "bytes": 2, "cycles": 14, "category": "io", "addressing_mode": "implied", "flags_affected": "Z1N1", "notes": "14/12T; Z80=21/16T"},
    {"mnemonic": "IND", "opcode": "0xEDAA", "bytes": 2, "cycles": 12, "category": "io", "addressing_mode": "implied", "flags_affected": "ZN1", "notes": "Z80=16T"},
    {"mnemonic": "INDR", "opcode": "0xEDBA", "bytes": 2, "cycles": 14, "category": "io", "addressing_mode": "implied", "flags_affected": "Z1N1", "notes": "14/12T; Z80=21/16T"},
    {"mnemonic": "OUTI", "opcode": "0xEDA3", "bytes": 2, "cycles": 12, "category": "io", "addressing_mode": "implied", "flags_affected": "ZN1", "notes": "Z80=16T"},
    {"mnemonic": "OTIR", "opcode": "0xEDB3", "bytes": 2, "cycles": 14, "category": "io", "addressing_mode": "implied", "flags_affected": "Z1N1", "notes": "14/12T; Z80=21/16T"},
    {"mnemonic": "OUTD", "opcode": "0xEDAB", "bytes": 2, "cycles": 12, "category": "io", "addressing_mode": "implied", "flags_affected": "ZN1", "notes": "Z80=16T"},
    {"mnemonic": "OTDR", "opcode": "0xEDBB", "bytes": 2, "cycles": 14, "category": "io", "addressing_mode": "implied", "flags_affected": "Z1N1", "notes": "14/12T; Z80=21/16T"},

    {"mnemonic": "MLT BC", "opcode": "0xED4C", "bytes": 2, "cycles": 17, "category": "multiply", "addressing_mode": "register", "flags_affected": "", "notes": "Z180 NEW: Multiply B*C -> BC (8x8=16 unsigned)"},
    {"mnemonic": "MLT DE", "opcode": "0xED5C", "bytes": 2, "cycles": 17, "category": "multiply", "addressing_mode": "register", "flags_affected": "", "notes": "Z180 NEW: Multiply D*E -> DE"},
    {"mnemonic": "MLT HL", "opcode": "0xED6C", "bytes": 2, "cycles": 17, "category": "multiply", "addressing_mode": "register", "flags_affected": "", "notes": "Z180 NEW: Multiply H*L -> HL"},
    {"mnemonic": "MLT SP", "opcode": "0xED7C", "bytes": 2, "cycles": 17, "category": "multiply", "addressing_mode": "register", "flags_affected": "", "notes": "Z180 NEW: Multiply SPH*SPL -> SP"},

    {"mnemonic": "TST A,r", "opcode": "0xED04/0C/14/1C/24/2C/3C", "bytes": 2, "cycles": 7, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH1PN0", "notes": "Z180 NEW: AND A with r, set flags, don't store result"},
    {"mnemonic": "TST A,(HL)", "opcode": "0xED34", "bytes": 2, "cycles": 10, "category": "alu", "addressing_mode": "register_indirect", "flags_affected": "SZH1PN0", "notes": "Z180 NEW"},
    {"mnemonic": "TST A,n", "opcode": "0xED64", "bytes": 3, "cycles": 9, "category": "alu", "addressing_mode": "immediate", "flags_affected": "SZH1PN0", "notes": "Z180 NEW: Test A with immediate"},
    {"mnemonic": "TSTIO n", "opcode": "0xED74", "bytes": 3, "cycles": 12, "category": "io", "addressing_mode": "immediate", "flags_affected": "SZH1PN0", "notes": "Z180 NEW: AND I/O port (C) data with immediate, set flags"},

    {"mnemonic": "IN0 r,(n)", "opcode": "0xED00/08/10/18/20/28/30/38", "bytes": 3, "cycles": 12, "category": "io", "addressing_mode": "direct", "flags_affected": "SZH0PN", "notes": "Z180 NEW: Input from internal I/O port (8-bit address)"},
    {"mnemonic": "OUT0 (n),r", "opcode": "0xED01/09/11/19/21/29/31/39", "bytes": 3, "cycles": 13, "category": "io", "addressing_mode": "direct", "flags_affected": "", "notes": "Z180 NEW: Output to internal I/O port"},

    {"mnemonic": "SLP", "opcode": "0xED76", "bytes": 2, "cycles": 8, "category": "special", "addressing_mode": "implied", "flags_affected": "", "notes": "Z180 NEW: Sleep mode; halts CPU clock until interrupt or reset"},

    {"mnemonic": "OTIM", "opcode": "0xED83", "bytes": 2, "cycles": 14, "category": "io", "addressing_mode": "implied", "flags_affected": "ZN1", "notes": "Z180 NEW: Output, increment and modify; (C)=(HL); HL++; C++; B--"},
    {"mnemonic": "OTIMR", "opcode": "0xED93", "bytes": 2, "cycles": 16, "category": "io", "addressing_mode": "implied", "flags_affected": "Z1N1", "notes": "Z180 NEW: Repeat OTIM; 16T/repeat, 14T/done"},
    {"mnemonic": "OTDM", "opcode": "0xED8B", "bytes": 2, "cycles": 14, "category": "io", "addressing_mode": "implied", "flags_affected": "ZN1", "notes": "Z180 NEW: Output, decrement and modify; (C)=(HL); HL--; C--; B--"},
    {"mnemonic": "OTDMR", "opcode": "0xED9B", "bytes": 2, "cycles": 16, "category": "io", "addressing_mode": "implied", "flags_affected": "Z1N1", "notes": "Z180 NEW: Repeat OTDM; 16T/repeat, 14T/done"},

    {"mnemonic": "LD r,(IX+d)", "opcode": "0xDD46+offset", "bytes": 3, "cycles": 14, "category": "data_transfer", "addressing_mode": "indexed", "flags_affected": "", "notes": "Z80=19T; 7 opcodes for B,C,D,E,H,L,A"},
    {"mnemonic": "LD (IX+d),r", "opcode": "0xDD70+offset", "bytes": 3, "cycles": 14, "category": "data_transfer", "addressing_mode": "indexed", "flags_affected": "", "notes": "Z80=19T"},
    {"mnemonic": "LD (IX+d),n", "opcode": "0xDD36", "bytes": 4, "cycles": 15, "category": "data_transfer", "addressing_mode": "indexed", "flags_affected": "", "notes": "Z80=19T"},
    {"mnemonic": "LD IX,nn", "opcode": "0xDD21", "bytes": 4, "cycles": 12, "category": "data_transfer", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": "Z80=14T"},
    {"mnemonic": "LD IX,(nn)", "opcode": "0xDD2A", "bytes": 4, "cycles": 18, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "", "notes": "Z80=20T"},
    {"mnemonic": "LD (nn),IX", "opcode": "0xDD22", "bytes": 4, "cycles": 18, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "", "notes": "Z80=20T"},
    {"mnemonic": "LD SP,IX", "opcode": "0xDDF9", "bytes": 2, "cycles": 7, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "", "notes": "Z80=10T"},
    {"mnemonic": "PUSH IX", "opcode": "0xDDE5", "bytes": 2, "cycles": 14, "category": "stack", "addressing_mode": "implied", "flags_affected": "", "notes": "Z80=15T"},
    {"mnemonic": "POP IX", "opcode": "0xDDE1", "bytes": 2, "cycles": 12, "category": "stack", "addressing_mode": "implied", "flags_affected": "", "notes": "Z80=14T"},
    {"mnemonic": "EX (SP),IX", "opcode": "0xDDE3", "bytes": 2, "cycles": 19, "category": "data_transfer", "addressing_mode": "indirect", "flags_affected": "", "notes": "Z80=23T"},
    {"mnemonic": "ADD IX,pp", "opcode": "0xDD09/19/29/39", "bytes": 2, "cycles": 10, "category": "alu", "addressing_mode": "register", "flags_affected": "-H-C", "notes": "Z80=15T"},
    {"mnemonic": "INC IX", "opcode": "0xDD23", "bytes": 2, "cycles": 7, "category": "alu", "addressing_mode": "register", "flags_affected": "", "notes": "Z80=10T"},
    {"mnemonic": "DEC IX", "opcode": "0xDD2B", "bytes": 2, "cycles": 7, "category": "alu", "addressing_mode": "register", "flags_affected": "", "notes": "Z80=10T"},
    {"mnemonic": "INC (IX+d)", "opcode": "0xDD34", "bytes": 3, "cycles": 18, "category": "alu", "addressing_mode": "indexed", "flags_affected": "SZH-V-", "notes": "Z80=23T"},
    {"mnemonic": "DEC (IX+d)", "opcode": "0xDD35", "bytes": 3, "cycles": 18, "category": "alu", "addressing_mode": "indexed", "flags_affected": "SZH-V-", "notes": "Z80=23T"},
    {"mnemonic": "ADD A,(IX+d)", "opcode": "0xDD86", "bytes": 3, "cycles": 14, "category": "alu", "addressing_mode": "indexed", "flags_affected": "SZHVNC", "notes": "Z80=19T; all ALU (IX+d) ops 14T"},
    {"mnemonic": "JP (IX)", "opcode": "0xDDE9", "bytes": 2, "cycles": 6, "category": "control", "addressing_mode": "register_indirect", "flags_affected": "", "notes": "Z80=8T"},
    {"mnemonic": "BIT b,(IX+d)", "opcode": "0xDDCB+d+op", "bytes": 4, "cycles": 15, "category": "bit", "addressing_mode": "indexed", "flags_affected": "SZH1PN", "notes": "Z80=20T"},
    {"mnemonic": "SET b,(IX+d)", "opcode": "0xDDCB+d+op", "bytes": 4, "cycles": 19, "category": "bit", "addressing_mode": "indexed", "flags_affected": "", "notes": "Z80=23T"},
    {"mnemonic": "RES b,(IX+d)", "opcode": "0xDDCB+d+op", "bytes": 4, "cycles": 19, "category": "bit", "addressing_mode": "indexed", "flags_affected": "", "notes": "Z80=23T"},

    {"mnemonic": "LD r,(IY+d)", "opcode": "0xFD46+offset", "bytes": 3, "cycles": 14, "category": "data_transfer", "addressing_mode": "indexed", "flags_affected": "", "notes": "IY variants: same timing as IX"},
    {"mnemonic": "LD (IY+d),r", "opcode": "0xFD70+offset", "bytes": 3, "cycles": 14, "category": "data_transfer", "addressing_mode": "indexed", "flags_affected": "", "notes": ""},
    {"mnemonic": "LD IY,nn", "opcode": "0xFD21", "bytes": 4, "cycles": 12, "category": "data_transfer", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": ""},
    {"mnemonic": "ADD IY,rr", "opcode": "0xFD09/19/29/39", "bytes": 2, "cycles": 10, "category": "alu", "addressing_mode": "register", "flags_affected": "-H-C", "notes": ""},
    {"mnemonic": "JP (IY)", "opcode": "0xFDE9", "bytes": 2, "cycles": 6, "category": "control", "addressing_mode": "register_indirect", "flags_affected": "", "notes": ""}
  ]
}
