{
  "processor": "AMI S28211",
  "manufacturer": "AMI",
  "year": 1979,
  "schema_version": "1.0",
  "source": "AMI S28211 datasheet, American Microsystems Inc.",
  "instruction_count": 38,
  "architecture_notes": "DSP peripheral chip designed to interface with the Motorola 6800 bus system. 16-bit data path. 8 MHz NMOS clock. ~5000 transistors. Operates as a bus-attached coprocessor, adding signal processing capability to 6800-based systems. I/O operations incur significant overhead due to 6800 bus interface protocol. No hardware MAC - multiply-accumulate is performed in multiple cycles.",
  "instructions": [
    {"mnemonic": "MAC", "opcode": "0x01", "bytes": 1, "cycles": 4, "category": "multiply", "addressing_mode": "register", "flags_affected": "OV", "notes": "Multiply-accumulate (multi-cycle, no hardware MAC unit)"},
    {"mnemonic": "MPY", "opcode": "0x02", "bytes": 1, "cycles": 4, "category": "multiply", "addressing_mode": "register", "flags_affected": "OV", "notes": "16-bit multiply operation"},
    {"mnemonic": "MPYA", "opcode": "0x03", "bytes": 1, "cycles": 4, "category": "multiply", "addressing_mode": "register", "flags_affected": "OV", "notes": "Multiply and add to accumulator"},
    {"mnemonic": "MPYS", "opcode": "0x04", "bytes": 1, "cycles": 4, "category": "multiply", "addressing_mode": "register", "flags_affected": "OV", "notes": "Multiply and subtract from accumulator"},
    {"mnemonic": "SQR", "opcode": "0x05", "bytes": 1, "cycles": 4, "category": "multiply", "addressing_mode": "register", "flags_affected": "OV", "notes": "Square operation (self-multiply)"},
    {"mnemonic": "ADD", "opcode": "0x10", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "register", "flags_affected": "OV,Z,N,C", "notes": "16-bit add"},
    {"mnemonic": "SUB", "opcode": "0x11", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "register", "flags_affected": "OV,Z,N,C", "notes": "16-bit subtract"},
    {"mnemonic": "AND", "opcode": "0x12", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "register", "flags_affected": "Z,N", "notes": "Logical AND"},
    {"mnemonic": "OR", "opcode": "0x13", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "register", "flags_affected": "Z,N", "notes": "Logical OR"},
    {"mnemonic": "XOR", "opcode": "0x14", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "register", "flags_affected": "Z,N", "notes": "Exclusive OR"},
    {"mnemonic": "ABS", "opcode": "0x15", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "implied", "flags_affected": "Z,N", "notes": "Absolute value"},
    {"mnemonic": "NEG", "opcode": "0x16", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "implied", "flags_affected": "OV,Z,N", "notes": "Negate (twos complement)"},
    {"mnemonic": "SHL", "opcode": "0x17", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "implied", "flags_affected": "C,Z,N", "notes": "Shift left by 1"},
    {"mnemonic": "SHR", "opcode": "0x18", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "implied", "flags_affected": "C,Z,N", "notes": "Arithmetic shift right by 1"},
    {"mnemonic": "SAT", "opcode": "0x19", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "implied", "flags_affected": "none", "notes": "Saturate on overflow"},
    {"mnemonic": "CMP", "opcode": "0x1A", "bytes": 1, "cycles": 3, "category": "alu", "addressing_mode": "register", "flags_affected": "Z,N,C", "notes": "Compare registers (subtract without storing)"},
    {"mnemonic": "MOV", "opcode": "0x20", "bytes": 1, "cycles": 4, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "none", "notes": "Move between internal registers via 6800 bus protocol"},
    {"mnemonic": "LDR", "opcode": "0x21", "bytes": 2, "cycles": 4, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "none", "notes": "Load register from local data memory"},
    {"mnemonic": "STR", "opcode": "0x22", "bytes": 2, "cycles": 4, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "none", "notes": "Store register to local data memory"},
    {"mnemonic": "LDA", "opcode": "0x23", "bytes": 2, "cycles": 4, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "none", "notes": "Load accumulator from local memory"},
    {"mnemonic": "STA", "opcode": "0x24", "bytes": 2, "cycles": 4, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "none", "notes": "Store accumulator to local memory"},
    {"mnemonic": "LDI", "opcode": "0x25", "bytes": 2, "cycles": 4, "category": "data_transfer", "addressing_mode": "immediate", "flags_affected": "none", "notes": "Load immediate value into register"},
    {"mnemonic": "JMP", "opcode": "0x30", "bytes": 2, "cycles": 6, "category": "control", "addressing_mode": "absolute", "flags_affected": "none", "notes": "Unconditional jump"},
    {"mnemonic": "JZ", "opcode": "0x31", "bytes": 2, "cycles": 6, "category": "control", "addressing_mode": "absolute", "flags_affected": "none", "notes": "Jump if zero"},
    {"mnemonic": "JNZ", "opcode": "0x32", "bytes": 2, "cycles": 6, "category": "control", "addressing_mode": "absolute", "flags_affected": "none", "notes": "Jump if not zero"},
    {"mnemonic": "JOV", "opcode": "0x33", "bytes": 2, "cycles": 6, "category": "control", "addressing_mode": "absolute", "flags_affected": "none", "notes": "Jump on overflow"},
    {"mnemonic": "JN", "opcode": "0x34", "bytes": 2, "cycles": 6, "category": "control", "addressing_mode": "absolute", "flags_affected": "none", "notes": "Jump if negative"},
    {"mnemonic": "JSR", "opcode": "0x35", "bytes": 2, "cycles": 6, "category": "control", "addressing_mode": "absolute", "flags_affected": "none", "notes": "Jump to subroutine"},
    {"mnemonic": "RTS", "opcode": "0x36", "bytes": 1, "cycles": 6, "category": "control", "addressing_mode": "implied", "flags_affected": "none", "notes": "Return from subroutine"},
    {"mnemonic": "RPT", "opcode": "0x37", "bytes": 2, "cycles": 6, "category": "control", "addressing_mode": "immediate", "flags_affected": "none", "notes": "Repeat next instruction N times"},
    {"mnemonic": "INB", "opcode": "0x40", "bytes": 1, "cycles": 8, "category": "io", "addressing_mode": "implied", "flags_affected": "none", "notes": "Input byte from 6800 bus (high bus overhead)"},
    {"mnemonic": "OUTB", "opcode": "0x41", "bytes": 1, "cycles": 8, "category": "io", "addressing_mode": "implied", "flags_affected": "none", "notes": "Output byte to 6800 bus"},
    {"mnemonic": "INW", "opcode": "0x42", "bytes": 1, "cycles": 8, "category": "io", "addressing_mode": "implied", "flags_affected": "none", "notes": "Input 16-bit word from 6800 bus (two bus cycles)"},
    {"mnemonic": "OUTW", "opcode": "0x43", "bytes": 1, "cycles": 8, "category": "io", "addressing_mode": "implied", "flags_affected": "none", "notes": "Output 16-bit word to 6800 bus (two bus cycles)"},
    {"mnemonic": "SYNC", "opcode": "0x44", "bytes": 1, "cycles": 8, "category": "io", "addressing_mode": "implied", "flags_affected": "none", "notes": "Synchronize with 6800 host CPU via bus handshake"},
    {"mnemonic": "ACKH", "opcode": "0x45", "bytes": 1, "cycles": 8, "category": "io", "addressing_mode": "implied", "flags_affected": "none", "notes": "Acknowledge host interrupt request"},
    {"mnemonic": "NOP", "opcode": "0x00", "bytes": 1, "cycles": 3, "category": "nop", "addressing_mode": "implied", "flags_affected": "none", "notes": "No operation"},
    {"mnemonic": "HALT", "opcode": "0x4F", "bytes": 1, "cycles": 6, "category": "control", "addressing_mode": "implied", "flags_affected": "none", "notes": "Halt processor until host command or interrupt"}
  ]
}
