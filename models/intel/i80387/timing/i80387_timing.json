{
  "processor": "Intel 80387",
  "manufacturer": "Intel",
  "year": 1987,
  "schema_version": "1.0",
  "source": "Intel 80387 Programmer's Reference Manual, 1987",
  "clock_mhz_range": "16-33",
  "instruction_count": 75,
  "notes": "x87 FPU for the 80386. Significant performance improvement over 80287 due to hardware multiply and other optimizations. Runs synchronously with the 386 CPU clock. Added FSIN, FCOS, FSINCOS (not in 8087/80287). IEEE 754 fully compliant.",
  "instructions": [
    {"mnemonic": "FLD", "operands": "mem32", "bytes": 2, "cycles": 10, "category": "float", "addressing_mode": "memory", "flags_affected": "none", "notes": "Load single real"},
    {"mnemonic": "FLD", "operands": "mem64", "bytes": 2, "cycles": 10, "category": "float", "addressing_mode": "memory", "flags_affected": "none", "notes": "Load double real"},
    {"mnemonic": "FLD", "operands": "mem80", "bytes": 2, "cycles": 13, "category": "float", "addressing_mode": "memory", "flags_affected": "none", "notes": "Load extended real"},
    {"mnemonic": "FLD", "operands": "ST(i)", "bytes": 2, "cycles": 7, "category": "float", "addressing_mode": "register", "flags_affected": "none", "notes": "Load from stack register"},
    {"mnemonic": "FILD", "operands": "mem16", "bytes": 2, "cycles": 18, "category": "float", "addressing_mode": "memory", "flags_affected": "none", "notes": "Load integer 16-bit"},
    {"mnemonic": "FILD", "operands": "mem32", "bytes": 2, "cycles": 18, "category": "float", "addressing_mode": "memory", "flags_affected": "none", "notes": "Load integer 32-bit"},
    {"mnemonic": "FILD", "operands": "mem64", "bytes": 2, "cycles": 18, "category": "float", "addressing_mode": "memory", "flags_affected": "none", "notes": "Load integer 64-bit"},
    {"mnemonic": "FBLD", "operands": "mem80", "bytes": 2, "cycles": 75, "category": "float", "addressing_mode": "memory", "flags_affected": "none", "notes": "Load BCD. Much faster than 8087 (290 clocks)"},
    {"mnemonic": "FST", "operands": "mem32", "bytes": 2, "cycles": 32, "category": "float", "addressing_mode": "memory", "flags_affected": "none", "notes": "Store single real"},
    {"mnemonic": "FST", "operands": "mem64", "bytes": 2, "cycles": 32, "category": "float", "addressing_mode": "memory", "flags_affected": "none", "notes": "Store double real"},
    {"mnemonic": "FST", "operands": "ST(i)", "bytes": 2, "cycles": 7, "category": "float", "addressing_mode": "register", "flags_affected": "none", "notes": "Store to stack register"},
    {"mnemonic": "FSTP", "operands": "mem80", "bytes": 2, "cycles": 14, "category": "float", "addressing_mode": "memory", "flags_affected": "none", "notes": "Store extended and pop"},
    {"mnemonic": "FIST", "operands": "mem16", "bytes": 2, "cycles": 33, "category": "float", "addressing_mode": "memory", "flags_affected": "none", "notes": "Store as 16-bit integer"},
    {"mnemonic": "FIST", "operands": "mem32", "bytes": 2, "cycles": 33, "category": "float", "addressing_mode": "memory", "flags_affected": "none", "notes": "Store as 32-bit integer"},
    {"mnemonic": "FBSTP", "operands": "mem80", "bytes": 2, "cycles": 175, "category": "float", "addressing_mode": "memory", "flags_affected": "none", "notes": "Store as BCD. Much faster than 8087 (530 clocks)"},
    {"mnemonic": "FXCH", "operands": "ST(i)", "bytes": 2, "cycles": 8, "category": "float", "addressing_mode": "register", "flags_affected": "none", "notes": "Exchange registers"},
    {"mnemonic": "FADD", "operands": "ST, ST(i)", "bytes": 2, "cycles": 24, "cycles_note": "23-34", "category": "float", "addressing_mode": "register", "flags_affected": "C1", "notes": "Add real. Much faster than 8087 (85 clocks)"},
    {"mnemonic": "FADD", "operands": "mem32", "bytes": 2, "cycles": 27, "category": "float", "addressing_mode": "memory", "flags_affected": "C1", "notes": "Add single from memory"},
    {"mnemonic": "FADD", "operands": "mem64", "bytes": 2, "cycles": 32, "category": "float", "addressing_mode": "memory", "flags_affected": "C1", "notes": "Add double from memory"},
    {"mnemonic": "FSUB", "operands": "ST, ST(i)", "bytes": 2, "cycles": 26, "cycles_note": "26-37", "category": "float", "addressing_mode": "register", "flags_affected": "C1", "notes": "Subtract real"},
    {"mnemonic": "FSUBR", "operands": "ST, ST(i)", "bytes": 2, "cycles": 26, "category": "float", "addressing_mode": "register", "flags_affected": "C1", "notes": "Reverse subtract"},
    {"mnemonic": "FMUL", "operands": "ST, ST(i)", "bytes": 2, "cycles": 29, "cycles_note": "29-57", "category": "float", "addressing_mode": "register", "flags_affected": "C1", "notes": "Multiply. Hardware multiplier (vs microcode in 8087)"},
    {"mnemonic": "FMUL", "operands": "mem32", "bytes": 2, "cycles": 32, "category": "float", "addressing_mode": "memory", "flags_affected": "C1", "notes": "Multiply single from memory"},
    {"mnemonic": "FMUL", "operands": "mem64", "bytes": 2, "cycles": 37, "category": "float", "addressing_mode": "memory", "flags_affected": "C1", "notes": "Multiply double from memory"},
    {"mnemonic": "FDIV", "operands": "ST, ST(i)", "bytes": 2, "cycles": 88, "cycles_note": "88-91", "category": "float", "addressing_mode": "register", "flags_affected": "C1", "notes": "Divide. Faster than 8087 (198 clocks)"},
    {"mnemonic": "FDIVR", "operands": "ST, ST(i)", "bytes": 2, "cycles": 88, "category": "float", "addressing_mode": "register", "flags_affected": "C1", "notes": "Reverse divide"},
    {"mnemonic": "FSQRT", "operands": "", "bytes": 2, "cycles": 122, "cycles_note": "122-129", "category": "float", "addressing_mode": "implied", "flags_affected": "C1", "notes": "Square root. Faster than 8087 (183 clocks)"},
    {"mnemonic": "FCOM", "operands": "ST(i)", "bytes": 2, "cycles": 24, "category": "float", "addressing_mode": "register", "flags_affected": "C0 C2 C3", "notes": "Compare"},
    {"mnemonic": "FCOMP", "operands": "ST(i)", "bytes": 2, "cycles": 26, "category": "float", "addressing_mode": "register", "flags_affected": "C0 C2 C3", "notes": "Compare and pop"},
    {"mnemonic": "FCOMPP", "operands": "", "bytes": 2, "cycles": 26, "category": "float", "addressing_mode": "implied", "flags_affected": "C0 C2 C3", "notes": "Compare and pop twice"},
    {"mnemonic": "FTST", "operands": "", "bytes": 2, "cycles": 28, "category": "float", "addressing_mode": "implied", "flags_affected": "C0 C2 C3", "notes": "Test against 0.0"},
    {"mnemonic": "FUCOM", "operands": "ST(i)", "bytes": 2, "cycles": 24, "category": "float", "addressing_mode": "register", "flags_affected": "C0 C2 C3", "notes": "Unordered compare (387 new)"},
    {"mnemonic": "FUCOMP", "operands": "ST(i)", "bytes": 2, "cycles": 26, "category": "float", "addressing_mode": "register", "flags_affected": "C0 C2 C3", "notes": "Unordered compare and pop (387 new)"},
    {"mnemonic": "FUCOMPP", "operands": "", "bytes": 2, "cycles": 26, "category": "float", "addressing_mode": "implied", "flags_affected": "C0 C2 C3", "notes": "Unordered compare and pop twice (387 new)"},
    {"mnemonic": "FABS", "operands": "", "bytes": 2, "cycles": 9, "category": "float", "addressing_mode": "implied", "flags_affected": "C1", "notes": "Absolute value"},
    {"mnemonic": "FCHS", "operands": "", "bytes": 2, "cycles": 9, "category": "float", "addressing_mode": "implied", "flags_affected": "C1", "notes": "Change sign"},
    {"mnemonic": "FRNDINT", "operands": "", "bytes": 2, "cycles": 21, "category": "float", "addressing_mode": "implied", "flags_affected": "C1", "notes": "Round to integer"},
    {"mnemonic": "FSCALE", "operands": "", "bytes": 2, "cycles": 31, "category": "float", "addressing_mode": "implied", "flags_affected": "C1", "notes": "Scale by power of 2"},
    {"mnemonic": "FPREM", "operands": "", "bytes": 2, "cycles": 95, "cycles_note": "74-155", "category": "float", "addressing_mode": "implied", "flags_affected": "C0 C1 C2 C3", "notes": "Partial remainder (non-IEEE)"},
    {"mnemonic": "FPREM1", "operands": "", "bytes": 2, "cycles": 95, "cycles_note": "74-155", "category": "float", "addressing_mode": "implied", "flags_affected": "C0 C1 C2 C3", "notes": "IEEE partial remainder (387 new)"},
    {"mnemonic": "FSIN", "operands": "", "bytes": 2, "cycles": 200, "cycles_note": "122-771", "category": "float", "addressing_mode": "implied", "flags_affected": "C1 C2", "notes": "Sine (387 new)"},
    {"mnemonic": "FCOS", "operands": "", "bytes": 2, "cycles": 200, "cycles_note": "122-771", "category": "float", "addressing_mode": "implied", "flags_affected": "C1 C2", "notes": "Cosine (387 new)"},
    {"mnemonic": "FSINCOS", "operands": "", "bytes": 2, "cycles": 220, "cycles_note": "194-809", "category": "float", "addressing_mode": "implied", "flags_affected": "C1 C2", "notes": "Sine and cosine simultaneously (387 new)"},
    {"mnemonic": "FPTAN", "operands": "", "bytes": 2, "cycles": 235, "cycles_note": "191-573", "category": "float", "addressing_mode": "implied", "flags_affected": "C1 C2", "notes": "Partial tangent"},
    {"mnemonic": "FPATAN", "operands": "", "bytes": 2, "cycles": 314, "cycles_note": "314-487", "category": "float", "addressing_mode": "implied", "flags_affected": "C1", "notes": "Partial arctangent"},
    {"mnemonic": "F2XM1", "operands": "", "bytes": 2, "cycles": 280, "cycles_note": "211-476", "category": "float", "addressing_mode": "implied", "flags_affected": "C1", "notes": "2^x - 1"},
    {"mnemonic": "FYL2X", "operands": "", "bytes": 2, "cycles": 120, "cycles_note": "120-538", "category": "float", "addressing_mode": "implied", "flags_affected": "C1", "notes": "Y * log2(X). Much faster than 8087 (950)"},
    {"mnemonic": "FYL2XP1", "operands": "", "bytes": 2, "cycles": 113, "cycles_note": "113-538", "category": "float", "addressing_mode": "implied", "flags_affected": "C1", "notes": "Y * log2(X+1)"},
    {"mnemonic": "FLDZ", "operands": "", "bytes": 2, "cycles": 7, "category": "float", "addressing_mode": "implied", "flags_affected": "C1", "notes": "Load 0.0"},
    {"mnemonic": "FLD1", "operands": "", "bytes": 2, "cycles": 10, "category": "float", "addressing_mode": "implied", "flags_affected": "C1", "notes": "Load 1.0"},
    {"mnemonic": "FLDPI", "operands": "", "bytes": 2, "cycles": 10, "category": "float", "addressing_mode": "implied", "flags_affected": "C1", "notes": "Load pi"},
    {"mnemonic": "FINIT", "operands": "", "bytes": 2, "cycles": 33, "category": "special", "addressing_mode": "implied", "flags_affected": "all", "notes": "Initialize FPU"},
    {"mnemonic": "FCLEX", "operands": "", "bytes": 2, "cycles": 11, "category": "special", "addressing_mode": "implied", "flags_affected": "C0 C1 C2 C3", "notes": "Clear exceptions"},
    {"mnemonic": "FNOP", "operands": "", "bytes": 2, "cycles": 9, "category": "nop", "addressing_mode": "implied", "flags_affected": "none", "notes": "No operation"}
  ]
}
