{
  "processor": "Intel 82730",
  "manufacturer": "Intel",
  "year": 1983,
  "schema_version": "1.0",
  "source": "Intel 82730 Text Coprocessor datasheet, 1983",
  "clock_mhz": 12,
  "instruction_count": 24,
  "notes": "Text/graphics display coprocessor. Generates character-based video displays autonomously via DMA from host memory. Processes display row descriptors and character data to drive a CRT controller. Supports multiple fonts, attributes (underline, blink, reverse, bold), and cursor management. Operates via shared memory command/status blocks. Cycle counts are in character clock periods unless noted.",
  "instructions": [
    {"mnemonic": "START_DISPLAY", "operands": "", "bytes": 0, "cycles": 20, "category": "control", "addressing_mode": "implied", "flags_affected": "none", "notes": "Start display generation from row table"},
    {"mnemonic": "STOP_DISPLAY", "operands": "", "bytes": 0, "cycles": 4, "category": "control", "addressing_mode": "implied", "flags_affected": "none", "notes": "Stop display generation"},
    {"mnemonic": "LOAD_ROW_TABLE", "operands": "", "bytes": 4, "cycles": 16, "category": "data_transfer", "addressing_mode": "memory", "flags_affected": "none", "notes": "Load row descriptor table pointer from shared memory"},
    {"mnemonic": "FETCH_ROW", "operands": "", "bytes": 8, "cycles": 12, "category": "data_transfer", "addressing_mode": "memory", "flags_affected": "none", "notes": "Fetch row descriptor (contains char data pointer, attribute info)"},
    {"mnemonic": "FETCH_CHARS", "operands": "", "bytes": 2, "cycles": 1, "cycles_note": "1 per character cell", "category": "data_transfer", "addressing_mode": "memory", "flags_affected": "none", "notes": "DMA fetch character codes from display buffer"},
    {"mnemonic": "FETCH_ATTR", "operands": "", "bytes": 2, "cycles": 1, "category": "data_transfer", "addressing_mode": "memory", "flags_affected": "none", "notes": "DMA fetch character attributes"},
    {"mnemonic": "FONT_LOOKUP", "operands": "", "bytes": 2, "cycles": 2, "category": "data_transfer", "addressing_mode": "memory", "flags_affected": "none", "notes": "Look up character in font table (DMA from font ROM/RAM)"},
    {"mnemonic": "APPLY_ATTR", "operands": "", "bytes": 0, "cycles": 1, "category": "special", "addressing_mode": "implied", "flags_affected": "none", "notes": "Apply character attribute (underline, reverse, blink, bold)"},
    {"mnemonic": "CURSOR_CHECK", "operands": "", "bytes": 0, "cycles": 1, "category": "special", "addressing_mode": "implied", "flags_affected": "none", "notes": "Check if current position matches cursor position"},
    {"mnemonic": "CURSOR_DRAW", "operands": "", "bytes": 0, "cycles": 1, "category": "special", "addressing_mode": "implied", "flags_affected": "none", "notes": "XOR cursor pattern onto character cell"},
    {"mnemonic": "SHIFT_OUT", "operands": "", "bytes": 0, "cycles": 1, "category": "io", "addressing_mode": "implied", "flags_affected": "none", "notes": "Shift one scan line of pixels to display output"},
    {"mnemonic": "HSYNC", "operands": "", "bytes": 0, "cycles": 10, "cycles_note": "horizontal blanking period", "category": "special", "addressing_mode": "implied", "flags_affected": "none", "notes": "Horizontal sync and retrace"},
    {"mnemonic": "VSYNC", "operands": "", "bytes": 0, "cycles": 800, "cycles_note": "vertical blanking lines * line_time", "category": "special", "addressing_mode": "implied", "flags_affected": "none", "notes": "Vertical sync and retrace"},
    {"mnemonic": "SET_MODE", "operands": "", "bytes": 4, "cycles": 8, "category": "special", "addressing_mode": "memory", "flags_affected": "none", "notes": "Set display mode (chars per row, rows per screen, scan lines per char)"},
    {"mnemonic": "SET_CURSOR", "operands": "", "bytes": 4, "cycles": 4, "category": "special", "addressing_mode": "memory", "flags_affected": "none", "notes": "Set cursor position (row, column)"},
    {"mnemonic": "SET_CURSOR_TYPE", "operands": "", "bytes": 2, "cycles": 4, "category": "special", "addressing_mode": "memory", "flags_affected": "none", "notes": "Set cursor shape (start line, end line, blink rate)"},
    {"mnemonic": "SCROLL_UP", "operands": "", "bytes": 4, "cycles": 6, "category": "special", "addressing_mode": "memory", "flags_affected": "none", "notes": "Adjust row table for upward scroll (pointer manipulation, no data move)"},
    {"mnemonic": "SCROLL_DOWN", "operands": "", "bytes": 4, "cycles": 6, "category": "special", "addressing_mode": "memory", "flags_affected": "none", "notes": "Adjust row table for downward scroll"},
    {"mnemonic": "LOAD_FONT", "operands": "", "bytes": 4, "cycles": 30, "cycles_note": "30 + chars_in_font * 2", "category": "data_transfer", "addressing_mode": "memory", "flags_affected": "none", "notes": "Load font table pointer"},
    {"mnemonic": "CHANNEL_ATTN", "operands": "", "bytes": 0, "cycles": 4, "category": "special", "addressing_mode": "implied", "flags_affected": "none", "notes": "Channel attention from host CPU"},
    {"mnemonic": "STATUS_READ", "operands": "", "bytes": 0, "cycles": 4, "category": "io", "addressing_mode": "register", "flags_affected": "none", "notes": "Read status register"},
    {"mnemonic": "INT_ACK", "operands": "", "bytes": 0, "cycles": 2, "category": "special", "addressing_mode": "implied", "flags_affected": "none", "notes": "Acknowledge interrupt"},
    {"mnemonic": "RESET", "operands": "", "bytes": 0, "cycles": 50, "category": "special", "addressing_mode": "implied", "flags_affected": "none", "notes": "Reset coprocessor"},
    {"mnemonic": "NOP", "operands": "", "bytes": 0, "cycles": 1, "category": "nop", "addressing_mode": "implied", "flags_affected": "none", "notes": "No operation"}
  ]
}
