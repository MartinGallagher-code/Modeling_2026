{
  "processor": "Intel 82557",
  "manufacturer": "Intel",
  "year": 1995,
  "schema_version": "1.0",
  "source": "Intel 82557 EtherExpress PRO/100B PCI Adapter datasheet, 1995",
  "clock_mhz": 33,
  "instruction_count": 28,
  "notes": "PCI Ethernet controller (EtherExpress PRO/100). Contains embedded microcontroller that processes command blocks from host memory via DMA. Not a general-purpose CPU - operates on Command Block List (CBL) and Receive Frame Area (RFA) data structures. Timing is in PCI clock cycles (33 MHz). Operations are measured as latency from command issue to completion.",
  "instructions": [
    {"mnemonic": "NOP", "operands": "", "bytes": 4, "cycles": 1, "category": "nop", "addressing_mode": "implied", "flags_affected": "none", "notes": "No operation command block"},
    {"mnemonic": "ADDR_SETUP", "operands": "", "bytes": 16, "cycles": 10, "category": "special", "addressing_mode": "memory", "flags_affected": "none", "notes": "Individual Address Setup. Configures MAC address"},
    {"mnemonic": "CONFIGURE", "operands": "", "bytes": 32, "cycles": 30, "category": "special", "addressing_mode": "memory", "flags_affected": "none", "notes": "Configure command. Sets operating parameters (22 config bytes)"},
    {"mnemonic": "MCAST_SETUP", "operands": "", "bytes": 8, "cycles": 20, "cycles_note": "20 + 2 per address", "category": "special", "addressing_mode": "memory", "flags_affected": "none", "notes": "Multicast Address Setup. Programs hash filter"},
    {"mnemonic": "TRANSMIT", "operands": "", "bytes": 16, "cycles": 60, "cycles_note": "60 + frame_size/4", "category": "io", "addressing_mode": "memory", "flags_affected": "none", "notes": "Transmit command. DMA frame data from host memory to TX FIFO"},
    {"mnemonic": "TX_FLEXIBLE", "operands": "", "bytes": 16, "cycles": 50, "cycles_note": "50 + gather DMA time", "category": "io", "addressing_mode": "memory", "flags_affected": "none", "notes": "Flexible mode transmit with scatter/gather TBDs"},
    {"mnemonic": "DUMP", "operands": "", "bytes": 4, "cycles": 100, "category": "special", "addressing_mode": "memory", "flags_affected": "none", "notes": "Dump internal statistics counters to host memory"},
    {"mnemonic": "DIAGNOSE", "operands": "", "bytes": 4, "cycles": 200, "category": "special", "addressing_mode": "implied", "flags_affected": "none", "notes": "Self-test diagnostic"},
    {"mnemonic": "RECEIVE", "operands": "", "bytes": 16, "cycles": 40, "cycles_note": "40 + frame_size/4", "category": "io", "addressing_mode": "memory", "flags_affected": "none", "notes": "Receive frame to host memory via DMA"},
    {"mnemonic": "RU_START", "operands": "", "bytes": 0, "cycles": 8, "category": "control", "addressing_mode": "implied", "flags_affected": "none", "notes": "Start Receive Unit processing"},
    {"mnemonic": "RU_RESUME", "operands": "", "bytes": 0, "cycles": 4, "category": "control", "addressing_mode": "implied", "flags_affected": "none", "notes": "Resume Receive Unit"},
    {"mnemonic": "RU_ABORT", "operands": "", "bytes": 0, "cycles": 4, "category": "control", "addressing_mode": "implied", "flags_affected": "none", "notes": "Abort Receive Unit"},
    {"mnemonic": "CU_START", "operands": "", "bytes": 0, "cycles": 8, "category": "control", "addressing_mode": "implied", "flags_affected": "none", "notes": "Start Command Unit processing CBL"},
    {"mnemonic": "CU_RESUME", "operands": "", "bytes": 0, "cycles": 4, "category": "control", "addressing_mode": "implied", "flags_affected": "none", "notes": "Resume Command Unit"},
    {"mnemonic": "CU_LOADBASE", "operands": "", "bytes": 4, "cycles": 6, "category": "data_transfer", "addressing_mode": "memory", "flags_affected": "none", "notes": "Load CBL base address"},
    {"mnemonic": "RU_LOADBASE", "operands": "", "bytes": 4, "cycles": 6, "category": "data_transfer", "addressing_mode": "memory", "flags_affected": "none", "notes": "Load RFA base address"},
    {"mnemonic": "LOAD_UCODE", "operands": "", "bytes": 4, "cycles": 400, "cycles_note": "variable", "category": "special", "addressing_mode": "memory", "flags_affected": "none", "notes": "Load microcode to internal SRAM (firmware update)"},
    {"mnemonic": "READ_PHY", "operands": "", "bytes": 0, "cycles": 64, "category": "io", "addressing_mode": "register", "flags_affected": "none", "notes": "Read PHY register via MDI (Management Data Interface)"},
    {"mnemonic": "WRITE_PHY", "operands": "", "bytes": 0, "cycles": 64, "category": "io", "addressing_mode": "register", "flags_affected": "none", "notes": "Write PHY register via MDI"},
    {"mnemonic": "READ_EEPROM", "operands": "", "bytes": 0, "cycles": 200, "category": "io", "addressing_mode": "register", "flags_affected": "none", "notes": "Read serial EEPROM word"},
    {"mnemonic": "WRITE_EEPROM", "operands": "", "bytes": 0, "cycles": 5000, "category": "io", "addressing_mode": "register", "flags_affected": "none", "notes": "Write serial EEPROM word (includes erase+program)"},
    {"mnemonic": "PCI_READ", "operands": "", "bytes": 4, "cycles": 3, "category": "memory", "addressing_mode": "memory", "flags_affected": "none", "notes": "PCI bus master read (single DWORD)"},
    {"mnemonic": "PCI_WRITE", "operands": "", "bytes": 4, "cycles": 3, "category": "memory", "addressing_mode": "memory", "flags_affected": "none", "notes": "PCI bus master write (single DWORD)"},
    {"mnemonic": "PCI_BURST_READ", "operands": "", "bytes": 4, "cycles": 2, "cycles_note": "3 first + 2 per subsequent DWORD", "category": "memory", "addressing_mode": "memory", "flags_affected": "none", "notes": "PCI burst read transfer"},
    {"mnemonic": "PCI_BURST_WRITE", "operands": "", "bytes": 4, "cycles": 2, "cycles_note": "3 first + 2 per subsequent DWORD", "category": "memory", "addressing_mode": "memory", "flags_affected": "none", "notes": "PCI burst write transfer"},
    {"mnemonic": "SCB_READ", "operands": "", "bytes": 0, "cycles": 3, "category": "io", "addressing_mode": "register", "flags_affected": "none", "notes": "System Control Block status read"},
    {"mnemonic": "SCB_WRITE", "operands": "", "bytes": 0, "cycles": 3, "category": "io", "addressing_mode": "register", "flags_affected": "none", "notes": "System Control Block command write"},
    {"mnemonic": "INT_ACK", "operands": "", "bytes": 0, "cycles": 1, "category": "special", "addressing_mode": "implied", "flags_affected": "none", "notes": "Acknowledge interrupt (write to SCB)"}
  ]
}
