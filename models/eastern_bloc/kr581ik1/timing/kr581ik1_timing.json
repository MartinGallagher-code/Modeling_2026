{
  "processor": "KR581IK1",
  "manufacturer": "Angstrem (Soviet Union)",
  "year": 1983,
  "schema_version": "1.0",
  "source": "KR581 documentation; Western Digital MCP-1600/WD16 reference; DEC LSI-11 Technical Manual",
  "timing_notes": "Soviet clone of Western Digital MCP-1600 control chip. Two-chip CPU (KR581IK1 control + KR581IK2 data path) implementing PDP-11 instruction set via microcode. Used in Elektronika-60 (LSI-11 compatible). Microcoded architecture means instruction timing depends on microcode ROM contents. Cycle counts are machine cycles at 5 MHz.",
  "instruction_count": 60,
  "instructions": [
    {"mnemonic": "MOV", "operands": "R,R", "bytes": 2, "cycles": 4, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "NZV", "notes": "Microcoded PDP-11 move; slower than single-chip K1801VM1"},
    {"mnemonic": "MOV", "operands": "R,(R)", "bytes": 2, "cycles": 7, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "MOV", "operands": "(R),R", "bytes": 2, "cycles": 7, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "MOV", "operands": "#imm,R", "bytes": 4, "cycles": 7, "category": "data_transfer", "addressing_mode": "immediate", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "MOV", "operands": "addr,R", "bytes": 4, "cycles": 10, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "CLR", "operands": "R", "bytes": 2, "cycles": 4, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "MOVB", "operands": "R,R", "bytes": 2, "cycles": 4, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "NZV", "notes": "Move byte"},
    {"mnemonic": "ADD", "operands": "R,R", "bytes": 2, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "ADD", "operands": "(R),R", "bytes": 2, "cycles": 7, "category": "alu", "addressing_mode": "register_indirect", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "ADD", "operands": "#imm,R", "bytes": 4, "cycles": 7, "category": "alu", "addressing_mode": "immediate", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "SUB", "operands": "R,R", "bytes": 2, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "CMP", "operands": "R,R", "bytes": 2, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "CMP", "operands": "#imm,R", "bytes": 4, "cycles": 7, "category": "alu", "addressing_mode": "immediate", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "INC", "operands": "R", "bytes": 2, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "DEC", "operands": "R", "bytes": 2, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "NEG", "operands": "R", "bytes": 2, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "TST", "operands": "R", "bytes": 2, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "BIC", "operands": "R,R", "bytes": 2, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "BIS", "operands": "R,R", "bytes": 2, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "BIT", "operands": "R,R", "bytes": 2, "cycles": 4, "category": "bit", "addressing_mode": "register", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "XOR", "operands": "R,R", "bytes": 2, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "ASL", "operands": "R", "bytes": 2, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "ASR", "operands": "R", "bytes": 2, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "ROL", "operands": "R", "bytes": 2, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "ROR", "operands": "R", "bytes": 2, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "COM", "operands": "R", "bytes": 2, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": "Complement"},
    {"mnemonic": "BR", "operands": "offset", "bytes": 2, "cycles": 4, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "Branch unconditional"},
    {"mnemonic": "BNE", "operands": "offset", "bytes": 2, "cycles": 4, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "Branch if not equal"},
    {"mnemonic": "BEQ", "operands": "offset", "bytes": 2, "cycles": 4, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "Branch if equal"},
    {"mnemonic": "SOB", "operands": "R,offset", "bytes": 2, "cycles": 5, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "Subtract one and branch"},
    {"mnemonic": "JMP", "operands": "(R)", "bytes": 2, "cycles": 4, "category": "control", "addressing_mode": "register_indirect", "flags_affected": "", "notes": ""},
    {"mnemonic": "JMP", "operands": "addr", "bytes": 4, "cycles": 7, "category": "control", "addressing_mode": "direct", "flags_affected": "", "notes": ""},
    {"mnemonic": "JSR", "operands": "R,addr", "bytes": 4, "cycles": 10, "category": "control", "addressing_mode": "direct", "flags_affected": "", "notes": "Jump to subroutine"},
    {"mnemonic": "RTS", "operands": "R", "bytes": 2, "cycles": 7, "category": "control", "addressing_mode": "register", "flags_affected": "", "notes": "Return from subroutine"},
    {"mnemonic": "RTI", "operands": "", "bytes": 2, "cycles": 10, "category": "control", "addressing_mode": "implied", "flags_affected": "all", "notes": "Return from interrupt"},
    {"mnemonic": "TRAP", "operands": "", "bytes": 2, "cycles": 12, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": ""},
    {"mnemonic": "EMT", "operands": "", "bytes": 2, "cycles": 12, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": ""},
    {"mnemonic": "HALT", "operands": "", "bytes": 2, "cycles": 4, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": ""},
    {"mnemonic": "NOP", "operands": "", "bytes": 2, "cycles": 4, "category": "nop", "addressing_mode": "implied", "flags_affected": "", "notes": ""},
    {"mnemonic": "RESET", "operands": "", "bytes": 2, "cycles": 24, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": ""}
  ]
}
