{
  "processor": "KR1858VM1",
  "manufacturer": "Angstrem (Soviet Union)",
  "year": 1986,
  "schema_version": "1.0",
  "source": "Soviet IC catalog; Zilog Z80 CPU Technical Manual cross-reference",
  "base_architecture": "z80",
  "base_timing_reference": "../../zilog/z80/timing/z80_timing.json",
  "timing_notes": "Soviet clone of Zilog Z80. Cycle-identical (T-state identical) to original Z80. Full Z80 instruction set including CB, DD, ED, FD prefix groups. Used in Soviet home computers and industrial systems.",
  "instruction_count": 693,
  "instructions": [
    {"mnemonic": "NOP", "opcode": "0x00", "bytes": 1, "cycles": 4, "category": "nop", "addressing_mode": "implied", "flags_affected": "", "notes": ""},
    {"mnemonic": "LD BC,nn", "opcode": "0x01", "bytes": 3, "cycles": 10, "category": "data_transfer", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": ""},
    {"mnemonic": "LD (BC),A", "opcode": "0x02", "bytes": 1, "cycles": 7, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "", "notes": ""},
    {"mnemonic": "INC BC", "opcode": "0x03", "bytes": 1, "cycles": 6, "category": "alu", "addressing_mode": "register", "flags_affected": "", "notes": "16-bit INC"},
    {"mnemonic": "INC B", "opcode": "0x04", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH-V-", "notes": ""},
    {"mnemonic": "DEC B", "opcode": "0x05", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH-V-", "notes": ""},
    {"mnemonic": "LD B,n", "opcode": "0x06", "bytes": 2, "cycles": 7, "category": "data_transfer", "addressing_mode": "immediate", "flags_affected": "", "notes": ""},
    {"mnemonic": "RLCA", "opcode": "0x07", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "implied", "flags_affected": "H0C", "notes": "Rotate A left circular"},
    {"mnemonic": "EX AF,AF'", "opcode": "0x08", "bytes": 1, "cycles": 4, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "", "notes": "Exchange AF with shadow"},
    {"mnemonic": "ADD HL,BC", "opcode": "0x09", "bytes": 1, "cycles": 11, "category": "alu", "addressing_mode": "register", "flags_affected": "-H-C", "notes": "16-bit add"},
    {"mnemonic": "LD A,(BC)", "opcode": "0x0A", "bytes": 1, "cycles": 7, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "", "notes": ""},
    {"mnemonic": "DEC BC", "opcode": "0x0B", "bytes": 1, "cycles": 6, "category": "alu", "addressing_mode": "register", "flags_affected": "", "notes": ""},
    {"mnemonic": "DJNZ e", "opcode": "0x10", "bytes": 2, "cycles": 13, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "13 if taken, 8 if not"},
    {"mnemonic": "LD DE,nn", "opcode": "0x11", "bytes": 3, "cycles": 10, "category": "data_transfer", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": ""},
    {"mnemonic": "LD (DE),A", "opcode": "0x12", "bytes": 1, "cycles": 7, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "", "notes": ""},
    {"mnemonic": "JR e", "opcode": "0x18", "bytes": 2, "cycles": 12, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "Unconditional relative jump"},
    {"mnemonic": "JR NZ,e", "opcode": "0x20", "bytes": 2, "cycles": 12, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "12 if taken, 7 if not"},
    {"mnemonic": "LD HL,nn", "opcode": "0x21", "bytes": 3, "cycles": 10, "category": "data_transfer", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": ""},
    {"mnemonic": "LD (nn),HL", "opcode": "0x22", "bytes": 3, "cycles": 16, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "", "notes": ""},
    {"mnemonic": "DAA", "opcode": "0x27", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "implied", "flags_affected": "SZHPC", "notes": "Decimal adjust"},
    {"mnemonic": "JR Z,e", "opcode": "0x28", "bytes": 2, "cycles": 12, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "12 if taken, 7 if not"},
    {"mnemonic": "LD SP,nn", "opcode": "0x31", "bytes": 3, "cycles": 10, "category": "data_transfer", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": ""},
    {"mnemonic": "LD (nn),A", "opcode": "0x32", "bytes": 3, "cycles": 13, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "", "notes": ""},
    {"mnemonic": "LD A,(nn)", "opcode": "0x3A", "bytes": 3, "cycles": 13, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "", "notes": ""},
    {"mnemonic": "LD A,n", "opcode": "0x3E", "bytes": 2, "cycles": 7, "category": "data_transfer", "addressing_mode": "immediate", "flags_affected": "", "notes": ""},
    {"mnemonic": "LD B,B", "opcode": "0x40", "bytes": 1, "cycles": 4, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "", "notes": ""},
    {"mnemonic": "LD r,(HL)", "opcode": "0x46", "bytes": 1, "cycles": 7, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "", "notes": "Load register from memory"},
    {"mnemonic": "LD (HL),r", "opcode": "0x70", "bytes": 1, "cycles": 7, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "", "notes": "Store register to memory"},
    {"mnemonic": "HALT", "opcode": "0x76", "bytes": 1, "cycles": 4, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Halt CPU"},
    {"mnemonic": "ADD A,r", "opcode": "0x80", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHVNC", "notes": "Add register to A"},
    {"mnemonic": "ADD A,(HL)", "opcode": "0x86", "bytes": 1, "cycles": 7, "category": "alu", "addressing_mode": "register_indirect", "flags_affected": "SZHVNC", "notes": "Add memory to A"},
    {"mnemonic": "ADD A,n", "opcode": "0xC6", "bytes": 2, "cycles": 7, "category": "alu", "addressing_mode": "immediate", "flags_affected": "SZHVNC", "notes": "Add immediate to A"},
    {"mnemonic": "ADC A,r", "opcode": "0x88", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHVNC", "notes": "Add with carry"},
    {"mnemonic": "SUB r", "opcode": "0x90", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHVNC", "notes": "Subtract register from A"},
    {"mnemonic": "SUB n", "opcode": "0xD6", "bytes": 2, "cycles": 7, "category": "alu", "addressing_mode": "immediate", "flags_affected": "SZHVNC", "notes": "Subtract immediate"},
    {"mnemonic": "SBC A,r", "opcode": "0x98", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHVNC", "notes": "Subtract with carry"},
    {"mnemonic": "AND r", "opcode": "0xA0", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHPNC", "notes": "AND register with A"},
    {"mnemonic": "AND n", "opcode": "0xE6", "bytes": 2, "cycles": 7, "category": "alu", "addressing_mode": "immediate", "flags_affected": "SZHPNC", "notes": "AND immediate"},
    {"mnemonic": "OR r", "opcode": "0xB0", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHPNC", "notes": "OR register with A"},
    {"mnemonic": "XOR r", "opcode": "0xA8", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHPNC", "notes": "XOR register with A"},
    {"mnemonic": "CP r", "opcode": "0xB8", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHVNC", "notes": "Compare register with A"},
    {"mnemonic": "CP n", "opcode": "0xFE", "bytes": 2, "cycles": 7, "category": "alu", "addressing_mode": "immediate", "flags_affected": "SZHVNC", "notes": "Compare immediate"},
    {"mnemonic": "PUSH BC", "opcode": "0xC5", "bytes": 1, "cycles": 11, "category": "stack", "addressing_mode": "register", "flags_affected": "", "notes": "Push BC pair"},
    {"mnemonic": "PUSH DE", "opcode": "0xD5", "bytes": 1, "cycles": 11, "category": "stack", "addressing_mode": "register", "flags_affected": "", "notes": "Push DE pair"},
    {"mnemonic": "PUSH HL", "opcode": "0xE5", "bytes": 1, "cycles": 11, "category": "stack", "addressing_mode": "register", "flags_affected": "", "notes": "Push HL pair"},
    {"mnemonic": "PUSH AF", "opcode": "0xF5", "bytes": 1, "cycles": 11, "category": "stack", "addressing_mode": "register", "flags_affected": "", "notes": "Push AF pair"},
    {"mnemonic": "POP BC", "opcode": "0xC1", "bytes": 1, "cycles": 10, "category": "stack", "addressing_mode": "register", "flags_affected": "", "notes": "Pop BC pair"},
    {"mnemonic": "POP DE", "opcode": "0xD1", "bytes": 1, "cycles": 10, "category": "stack", "addressing_mode": "register", "flags_affected": "", "notes": "Pop DE pair"},
    {"mnemonic": "POP HL", "opcode": "0xE1", "bytes": 1, "cycles": 10, "category": "stack", "addressing_mode": "register", "flags_affected": "", "notes": "Pop HL pair"},
    {"mnemonic": "POP AF", "opcode": "0xF1", "bytes": 1, "cycles": 10, "category": "stack", "addressing_mode": "register", "flags_affected": "", "notes": "Pop AF pair"},
    {"mnemonic": "JP nn", "opcode": "0xC3", "bytes": 3, "cycles": 10, "category": "control", "addressing_mode": "direct", "flags_affected": "", "notes": "Jump to address"},
    {"mnemonic": "JP NZ,nn", "opcode": "0xC2", "bytes": 3, "cycles": 10, "category": "control", "addressing_mode": "direct", "flags_affected": "", "notes": "Jump if not zero"},
    {"mnemonic": "JP Z,nn", "opcode": "0xCA", "bytes": 3, "cycles": 10, "category": "control", "addressing_mode": "direct", "flags_affected": "", "notes": "Jump if zero"},
    {"mnemonic": "CALL nn", "opcode": "0xCD", "bytes": 3, "cycles": 17, "category": "control", "addressing_mode": "direct", "flags_affected": "", "notes": "Call subroutine"},
    {"mnemonic": "CALL NZ,nn", "opcode": "0xC4", "bytes": 3, "cycles": 17, "category": "control", "addressing_mode": "direct", "flags_affected": "", "notes": "17 if taken, 10 if not"},
    {"mnemonic": "RET", "opcode": "0xC9", "bytes": 1, "cycles": 10, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Return"},
    {"mnemonic": "RET NZ", "opcode": "0xC0", "bytes": 1, "cycles": 11, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "11 if taken, 5 if not"},
    {"mnemonic": "RST n", "opcode": "0xC7", "bytes": 1, "cycles": 11, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Restart to page 0 location"},
    {"mnemonic": "IN A,(n)", "opcode": "0xDB", "bytes": 2, "cycles": 11, "category": "io", "addressing_mode": "immediate", "flags_affected": "", "notes": "Input from port"},
    {"mnemonic": "OUT (n),A", "opcode": "0xD3", "bytes": 2, "cycles": 11, "category": "io", "addressing_mode": "immediate", "flags_affected": "", "notes": "Output to port"},
    {"mnemonic": "EI", "opcode": "0xFB", "bytes": 1, "cycles": 4, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Enable interrupts"},
    {"mnemonic": "DI", "opcode": "0xF3", "bytes": 1, "cycles": 4, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Disable interrupts"},
    {"mnemonic": "EX DE,HL", "opcode": "0xEB", "bytes": 1, "cycles": 4, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "", "notes": "Exchange DE and HL"},
    {"mnemonic": "EX (SP),HL", "opcode": "0xE3", "bytes": 1, "cycles": 19, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "", "notes": "Exchange top of stack with HL"},
    {"mnemonic": "EXX", "opcode": "0xD9", "bytes": 1, "cycles": 4, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "", "notes": "Exchange BC/DE/HL with shadows"},
    {"mnemonic": "BIT b,r", "opcode": "0xCB40", "bytes": 2, "cycles": 8, "category": "bit", "addressing_mode": "register", "flags_affected": "SZH1-", "notes": "Test bit b of register"},
    {"mnemonic": "SET b,r", "opcode": "0xCBC0", "bytes": 2, "cycles": 8, "category": "bit", "addressing_mode": "register", "flags_affected": "", "notes": "Set bit b of register"},
    {"mnemonic": "RES b,r", "opcode": "0xCB80", "bytes": 2, "cycles": 8, "category": "bit", "addressing_mode": "register", "flags_affected": "", "notes": "Reset bit b of register"},
    {"mnemonic": "LDIR", "opcode": "0xEDB0", "bytes": 2, "cycles": 21, "category": "block", "addressing_mode": "register_indirect", "flags_affected": "H0P0N0", "notes": "Block transfer; 21/cycle if BC!=0, 16 for last"},
    {"mnemonic": "LDDR", "opcode": "0xEDB8", "bytes": 2, "cycles": 21, "category": "block", "addressing_mode": "register_indirect", "flags_affected": "H0P0N0", "notes": "Block transfer (decrement)"},
    {"mnemonic": "CPIR", "opcode": "0xEDB1", "bytes": 2, "cycles": 21, "category": "block", "addressing_mode": "register_indirect", "flags_affected": "SZHPN1", "notes": "Block compare; 21 repeat, 16 exit"},
    {"mnemonic": "LD SP,HL", "opcode": "0xF9", "bytes": 1, "cycles": 6, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "", "notes": "Load SP from HL"}
  ]
}
