{
  "processor": "K1801VM3",
  "manufacturer": "Angstrem (Soviet Union)",
  "year": 1985,
  "schema_version": "1.0",
  "source": "DVK-4 documentation; K1801VM3 datasheet",
  "base_architecture": "k1801vm1",
  "base_timing_reference": "../k1801vm1/timing/k1801vm1_timing.json",
  "timing_notes": "Final and fastest Soviet single-chip PDP-11. 16 MHz clock. On-chip MMU for memory management. Used in DVK-4 and Uknc (UKNTS) systems. Full PDP-11 instruction set plus FPU support. Most instructions execute in 2 cycles at register level.",
  "instruction_count": 72,
  "instructions": [
    {"mnemonic": "MOV", "operands": "R,R", "bytes": 2, "cycles": 2, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "MOV", "operands": "R,(R)", "bytes": 2, "cycles": 3, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "NZV", "notes": "Fastest PDP-11 chip memory access"},
    {"mnemonic": "MOV", "operands": "(R),R", "bytes": 2, "cycles": 3, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "MOV", "operands": "#imm,R", "bytes": 4, "cycles": 3, "category": "data_transfer", "addressing_mode": "immediate", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "MOV", "operands": "addr,R", "bytes": 4, "cycles": 5, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "CLR", "operands": "R", "bytes": 2, "cycles": 2, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "SWAB", "operands": "R", "bytes": 2, "cycles": 2, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "ADD", "operands": "R,R", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "ADD", "operands": "(R),R", "bytes": 2, "cycles": 3, "category": "alu", "addressing_mode": "register_indirect", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "ADD", "operands": "#imm,R", "bytes": 4, "cycles": 3, "category": "alu", "addressing_mode": "immediate", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "SUB", "operands": "R,R", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "CMP", "operands": "R,R", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "INC", "operands": "R", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "DEC", "operands": "R", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "NEG", "operands": "R", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "TST", "operands": "R", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "BIC", "operands": "R,R", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "BIS", "operands": "R,R", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "BIT", "operands": "R,R", "bytes": 2, "cycles": 2, "category": "bit", "addressing_mode": "register", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "XOR", "operands": "R,R", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "NZV", "notes": ""},
    {"mnemonic": "ASL", "operands": "R", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "ASR", "operands": "R", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "ROL", "operands": "R", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "ROR", "operands": "R", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "NZVC", "notes": ""},
    {"mnemonic": "MUL", "operands": "R,R", "bytes": 2, "cycles": 24, "category": "multiply", "addressing_mode": "register", "flags_affected": "NZC", "notes": "Fastest Soviet PDP-11 multiply"},
    {"mnemonic": "DIV", "operands": "R,R", "bytes": 2, "cycles": 32, "category": "divide", "addressing_mode": "register", "flags_affected": "NZVC", "notes": "Fastest Soviet PDP-11 divide"},
    {"mnemonic": "BR", "operands": "offset", "bytes": 2, "cycles": 2, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": ""},
    {"mnemonic": "BNE", "operands": "offset", "bytes": 2, "cycles": 2, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": ""},
    {"mnemonic": "BEQ", "operands": "offset", "bytes": 2, "cycles": 2, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": ""},
    {"mnemonic": "SOB", "operands": "R,offset", "bytes": 2, "cycles": 2, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": ""},
    {"mnemonic": "JMP", "operands": "(R)", "bytes": 2, "cycles": 2, "category": "control", "addressing_mode": "register_indirect", "flags_affected": "", "notes": ""},
    {"mnemonic": "JMP", "operands": "addr", "bytes": 4, "cycles": 3, "category": "control", "addressing_mode": "direct", "flags_affected": "", "notes": ""},
    {"mnemonic": "JSR", "operands": "R,addr", "bytes": 4, "cycles": 5, "category": "control", "addressing_mode": "direct", "flags_affected": "", "notes": ""},
    {"mnemonic": "RTS", "operands": "R", "bytes": 2, "cycles": 3, "category": "control", "addressing_mode": "register", "flags_affected": "", "notes": ""},
    {"mnemonic": "RTI", "operands": "", "bytes": 2, "cycles": 5, "category": "control", "addressing_mode": "implied", "flags_affected": "all", "notes": ""},
    {"mnemonic": "TRAP", "operands": "", "bytes": 2, "cycles": 7, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": ""},
    {"mnemonic": "HALT", "operands": "", "bytes": 2, "cycles": 2, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": ""},
    {"mnemonic": "NOP", "operands": "", "bytes": 2, "cycles": 2, "category": "nop", "addressing_mode": "implied", "flags_affected": "", "notes": ""},
    {"mnemonic": "RESET", "operands": "", "bytes": 2, "cycles": 12, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": ""}
  ]
}
