{
  "processor": "NEC uPD780",
  "manufacturer": "NEC",
  "year": 1976,
  "schema_version": "1.0",
  "source": "uPD780C/D datasheet, NEC 1976; base: Zilog Z80 (full clone)",
  "instruction_count": 67,
  "notes": "The NEC uPD780 is a pin-compatible and timing-compatible clone of the Zilog Z80. All instruction cycle counts in T-states are identical to the Z80. See z80_timing.json for the complete 693-instruction set including CB, DD, ED, and FD prefix groups. This file contains representative instructions from each category.",
  "instructions": [
    {"mnemonic": "NOP", "opcode": "0x00", "bytes": 1, "cycles": 4, "category": "nop", "addressing_mode": "implied", "flags_affected": "", "notes": "Same as Z80"},
    {"mnemonic": "LD B,n", "opcode": "0x06", "bytes": 2, "cycles": 7, "category": "data_transfer", "addressing_mode": "immediate", "flags_affected": "", "notes": ""},
    {"mnemonic": "LD r,r", "opcode": "0x40", "bytes": 1, "cycles": 4, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "", "notes": "Register to register (base case)"},
    {"mnemonic": "LD r,(HL)", "opcode": "0x46", "bytes": 1, "cycles": 7, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "", "notes": "Memory indirect through HL"},
    {"mnemonic": "LD (HL),r", "opcode": "0x70", "bytes": 1, "cycles": 7, "category": "data_transfer", "addressing_mode": "register_indirect", "flags_affected": "", "notes": "Store to (HL)"},
    {"mnemonic": "LD BC,nn", "opcode": "0x01", "bytes": 3, "cycles": 10, "category": "data_transfer", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": "16-bit immediate load"},
    {"mnemonic": "LD A,(nn)", "opcode": "0x3A", "bytes": 3, "cycles": 13, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "", "notes": "Direct memory load"},
    {"mnemonic": "LD (nn),A", "opcode": "0x32", "bytes": 3, "cycles": 13, "category": "data_transfer", "addressing_mode": "direct", "flags_affected": "", "notes": "Direct memory store"},
    {"mnemonic": "EX AF,AF'", "opcode": "0x08", "bytes": 1, "cycles": 4, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "", "notes": "Exchange AF with shadow AF'"},
    {"mnemonic": "EX DE,HL", "opcode": "0xEB", "bytes": 1, "cycles": 4, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "", "notes": "Exchange DE and HL"},
    {"mnemonic": "EXX", "opcode": "0xD9", "bytes": 1, "cycles": 4, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "", "notes": "Exchange BC,DE,HL with shadows"},
    {"mnemonic": "ADD A,r", "opcode": "0x80", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHAPC", "notes": "Add register to A"},
    {"mnemonic": "ADD A,n", "opcode": "0xC6", "bytes": 2, "cycles": 7, "category": "alu", "addressing_mode": "immediate", "flags_affected": "SZHAPC", "notes": "Add immediate to A"},
    {"mnemonic": "ADD A,(HL)", "opcode": "0x86", "bytes": 1, "cycles": 7, "category": "alu", "addressing_mode": "register_indirect", "flags_affected": "SZHAPC", "notes": "Add (HL) to A"},
    {"mnemonic": "ADC A,r", "opcode": "0x88", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHAPC", "notes": "Add with carry"},
    {"mnemonic": "SUB r", "opcode": "0x90", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHAPC", "notes": "Subtract register from A"},
    {"mnemonic": "SBC A,r", "opcode": "0x98", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHAPC", "notes": "Subtract with carry"},
    {"mnemonic": "AND r", "opcode": "0xA0", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHAPC", "notes": "AND with A"},
    {"mnemonic": "OR r", "opcode": "0xB0", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHAPC", "notes": "OR with A"},
    {"mnemonic": "XOR r", "opcode": "0xA8", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHAPC", "notes": "XOR with A"},
    {"mnemonic": "CP r", "opcode": "0xB8", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZHAPC", "notes": "Compare with A"},
    {"mnemonic": "INC r", "opcode": "0x04", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH-V-", "notes": "Increment register"},
    {"mnemonic": "DEC r", "opcode": "0x05", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH-V-", "notes": "Decrement register"},
    {"mnemonic": "INC BC", "opcode": "0x03", "bytes": 1, "cycles": 6, "category": "alu", "addressing_mode": "register", "flags_affected": "", "notes": "16-bit increment, no flags"},
    {"mnemonic": "ADD HL,BC", "opcode": "0x09", "bytes": 1, "cycles": 11, "category": "alu", "addressing_mode": "register", "flags_affected": "-H-C", "notes": "16-bit add"},
    {"mnemonic": "RLCA", "opcode": "0x07", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "implied", "flags_affected": "H0C", "notes": "Rotate A left circular"},
    {"mnemonic": "RRCA", "opcode": "0x0F", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "implied", "flags_affected": "H0C", "notes": "Rotate A right circular"},
    {"mnemonic": "RLA", "opcode": "0x17", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "implied", "flags_affected": "H0C", "notes": "Rotate A left through carry"},
    {"mnemonic": "RRA", "opcode": "0x1F", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "implied", "flags_affected": "H0C", "notes": "Rotate A right through carry"},
    {"mnemonic": "DAA", "opcode": "0x27", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "implied", "flags_affected": "SZHPC", "notes": "Decimal adjust accumulator"},
    {"mnemonic": "CPL", "opcode": "0x2F", "bytes": 1, "cycles": 4, "category": "alu", "addressing_mode": "implied", "flags_affected": "HN", "notes": "Complement accumulator"},
    {"mnemonic": "JP nn", "opcode": "0xC3", "bytes": 3, "cycles": 10, "category": "control", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": "Jump absolute"},
    {"mnemonic": "JP cc,nn", "opcode": "0xC2", "bytes": 3, "cycles": 10, "category": "control", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": "Conditional jump; 10 T-states either way"},
    {"mnemonic": "JR e", "opcode": "0x18", "bytes": 2, "cycles": 12, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "Jump relative; 12 T-states"},
    {"mnemonic": "JR cc,e", "opcode": "0x20", "bytes": 2, "cycles": 12, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "Conditional relative jump; 12 taken, 7 not taken"},
    {"mnemonic": "DJNZ e", "opcode": "0x10", "bytes": 2, "cycles": 13, "category": "control", "addressing_mode": "relative", "flags_affected": "", "notes": "Dec B and jump if not zero; 13 if B!=0, 8 if B=0"},
    {"mnemonic": "CALL nn", "opcode": "0xCD", "bytes": 3, "cycles": 17, "category": "control", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": "Call subroutine"},
    {"mnemonic": "CALL cc,nn", "opcode": "0xC4", "bytes": 3, "cycles": 17, "category": "control", "addressing_mode": "immediate_extended", "flags_affected": "", "notes": "Conditional call; 17 taken, 10 not taken"},
    {"mnemonic": "RET", "opcode": "0xC9", "bytes": 1, "cycles": 10, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Return"},
    {"mnemonic": "RET cc", "opcode": "0xC0", "bytes": 1, "cycles": 11, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Conditional return; 11 taken, 5 not taken"},
    {"mnemonic": "RST p", "opcode": "0xC7", "bytes": 1, "cycles": 11, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Restart at vector"},
    {"mnemonic": "PUSH rr", "opcode": "0xC5", "bytes": 1, "cycles": 11, "category": "stack", "addressing_mode": "register", "flags_affected": "", "notes": "Push register pair"},
    {"mnemonic": "POP rr", "opcode": "0xC1", "bytes": 1, "cycles": 10, "category": "stack", "addressing_mode": "register", "flags_affected": "", "notes": "Pop register pair"},
    {"mnemonic": "LDIR", "opcode": "0xEDB0", "bytes": 2, "cycles": 21, "category": "block", "addressing_mode": "implied", "flags_affected": "H0P0", "notes": "Block transfer repeat; 21 per byte if BC!=0, 16 for last"},
    {"mnemonic": "LDDR", "opcode": "0xEDB8", "bytes": 2, "cycles": 21, "category": "block", "addressing_mode": "implied", "flags_affected": "H0P0", "notes": "Block transfer reverse repeat"},
    {"mnemonic": "LDI", "opcode": "0xEDA0", "bytes": 2, "cycles": 16, "category": "block", "addressing_mode": "implied", "flags_affected": "H0P", "notes": "Block transfer single"},
    {"mnemonic": "CPIR", "opcode": "0xEDB1", "bytes": 2, "cycles": 21, "category": "block", "addressing_mode": "implied", "flags_affected": "SZHP", "notes": "Block compare repeat; 21 if BC!=0 and no match, 16 for last"},
    {"mnemonic": "IN A,(n)", "opcode": "0xDB", "bytes": 2, "cycles": 11, "category": "io", "addressing_mode": "immediate", "flags_affected": "", "notes": "Input from port"},
    {"mnemonic": "OUT (n),A", "opcode": "0xD3", "bytes": 2, "cycles": 11, "category": "io", "addressing_mode": "immediate", "flags_affected": "", "notes": "Output to port"},
    {"mnemonic": "IN r,(C)", "opcode": "0xED40", "bytes": 2, "cycles": 12, "category": "io", "addressing_mode": "register_indirect", "flags_affected": "SZH0P", "notes": "Input from port in C"},
    {"mnemonic": "OUT (C),r", "opcode": "0xED41", "bytes": 2, "cycles": 12, "category": "io", "addressing_mode": "register_indirect", "flags_affected": "", "notes": "Output to port in C"},
    {"mnemonic": "BIT b,r", "opcode": "0xCB40", "bytes": 2, "cycles": 8, "category": "bit", "addressing_mode": "register", "flags_affected": "SZH1", "notes": "Test bit in register"},
    {"mnemonic": "SET b,r", "opcode": "0xCBC0", "bytes": 2, "cycles": 8, "category": "bit", "addressing_mode": "register", "flags_affected": "", "notes": "Set bit in register"},
    {"mnemonic": "RES b,r", "opcode": "0xCB80", "bytes": 2, "cycles": 8, "category": "bit", "addressing_mode": "register", "flags_affected": "", "notes": "Reset bit in register"},
    {"mnemonic": "BIT b,(HL)", "opcode": "0xCB46", "bytes": 2, "cycles": 12, "category": "bit", "addressing_mode": "register_indirect", "flags_affected": "SZH1", "notes": "Test bit in memory"},
    {"mnemonic": "EI", "opcode": "0xFB", "bytes": 1, "cycles": 4, "category": "special", "addressing_mode": "implied", "flags_affected": "", "notes": "Enable interrupts"},
    {"mnemonic": "DI", "opcode": "0xF3", "bytes": 1, "cycles": 4, "category": "special", "addressing_mode": "implied", "flags_affected": "", "notes": "Disable interrupts"},
    {"mnemonic": "HALT", "opcode": "0x76", "bytes": 1, "cycles": 4, "category": "special", "addressing_mode": "implied", "flags_affected": "", "notes": "Halt until interrupt"},
    {"mnemonic": "IM 0", "opcode": "0xED46", "bytes": 2, "cycles": 8, "category": "special", "addressing_mode": "implied", "flags_affected": "", "notes": "Set interrupt mode 0"},
    {"mnemonic": "IM 1", "opcode": "0xED56", "bytes": 2, "cycles": 8, "category": "special", "addressing_mode": "implied", "flags_affected": "", "notes": "Set interrupt mode 1"},
    {"mnemonic": "IM 2", "opcode": "0xED5E", "bytes": 2, "cycles": 8, "category": "special", "addressing_mode": "implied", "flags_affected": "", "notes": "Set interrupt mode 2"},
    {"mnemonic": "RETI", "opcode": "0xED4D", "bytes": 2, "cycles": 14, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Return from interrupt"},
    {"mnemonic": "RETN", "opcode": "0xED45", "bytes": 2, "cycles": 14, "category": "control", "addressing_mode": "implied", "flags_affected": "", "notes": "Return from NMI"},
    {"mnemonic": "RLC r", "opcode": "0xCB00", "bytes": 2, "cycles": 8, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH0PC", "notes": "Rotate left circular"},
    {"mnemonic": "SLA r", "opcode": "0xCB20", "bytes": 2, "cycles": 8, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH0PC", "notes": "Shift left arithmetic"},
    {"mnemonic": "SRA r", "opcode": "0xCB28", "bytes": 2, "cycles": 8, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH0PC", "notes": "Shift right arithmetic"},
    {"mnemonic": "SRL r", "opcode": "0xCB38", "bytes": 2, "cycles": 8, "category": "alu", "addressing_mode": "register", "flags_affected": "SZH0PC", "notes": "Shift right logical"}
  ]
}
