{
  "processor": "NEC V70",
  "manufacturer": "NEC",
  "year": 1987,
  "schema_version": "1.0",
  "source": "V60/V70 User's Manual, NEC 1986-1987; V70 variant at 20 MHz",
  "instruction_count": 51,
  "notes": "The V70 is a higher-clocked variant of the V60 with the same ISA. All instruction cycle counts are identical to the V60. The V70 runs at 20 MHz vs the V60's 16 MHz, providing proportionally higher throughput. See nec_v60_timing.json for the full shared instruction set.",
  "instructions": [
    {"mnemonic": "MOV", "opcode": "0x10", "bytes": 2, "cycles": 2, "category": "data_transfer", "addressing_mode": "register,register", "flags_affected": "none", "notes": "32-bit register to register"},
    {"mnemonic": "MOV", "opcode": "0x11", "bytes": 5, "cycles": 2, "category": "data_transfer", "addressing_mode": "register,immediate", "flags_affected": "none", "notes": "32-bit immediate to register"},
    {"mnemonic": "MOV", "opcode": "0x12", "bytes": 3, "cycles": 4, "category": "data_transfer", "addressing_mode": "register,memory", "flags_affected": "none", "notes": "Memory to register"},
    {"mnemonic": "MOV", "opcode": "0x13", "bytes": 3, "cycles": 4, "category": "data_transfer", "addressing_mode": "memory,register", "flags_affected": "none", "notes": "Register to memory"},
    {"mnemonic": "MOVEA", "opcode": "0x14", "bytes": 5, "cycles": 2, "category": "data_transfer", "addressing_mode": "register,immediate", "flags_affected": "none", "notes": "Move effective address"},
    {"mnemonic": "PUSH", "opcode": "0x20", "bytes": 2, "cycles": 4, "category": "stack", "addressing_mode": "register", "flags_affected": "none", "notes": "Push register"},
    {"mnemonic": "POP", "opcode": "0x21", "bytes": 2, "cycles": 4, "category": "stack", "addressing_mode": "register", "flags_affected": "none", "notes": "Pop to register"},
    {"mnemonic": "PUSHM", "opcode": "0x22", "bytes": 3, "cycles": 8, "category": "stack", "addressing_mode": "register_list", "flags_affected": "none", "notes": "Push multiple registers"},
    {"mnemonic": "POPM", "opcode": "0x23", "bytes": 3, "cycles": 8, "category": "stack", "addressing_mode": "register_list", "flags_affected": "none", "notes": "Pop multiple registers"},
    {"mnemonic": "ADD", "opcode": "0x30", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,register", "flags_affected": "OVSZ,CY", "notes": "32-bit addition"},
    {"mnemonic": "ADD", "opcode": "0x31", "bytes": 5, "cycles": 2, "category": "alu", "addressing_mode": "register,immediate", "flags_affected": "OVSZ,CY", "notes": "32-bit add immediate"},
    {"mnemonic": "ADD", "opcode": "0x32", "bytes": 3, "cycles": 4, "category": "alu", "addressing_mode": "register,memory", "flags_affected": "OVSZ,CY", "notes": "Add from memory"},
    {"mnemonic": "SUB", "opcode": "0x35", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,register", "flags_affected": "OVSZ,CY", "notes": "32-bit subtraction"},
    {"mnemonic": "CMP", "opcode": "0x39", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,register", "flags_affected": "OVSZ,CY", "notes": "32-bit compare"},
    {"mnemonic": "INC", "opcode": "0x3C", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "OVSZ", "notes": "Increment"},
    {"mnemonic": "DEC", "opcode": "0x3D", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "OVSZ", "notes": "Decrement"},
    {"mnemonic": "AND", "opcode": "0x40", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,register", "flags_affected": "SZ", "notes": "Logical AND"},
    {"mnemonic": "OR", "opcode": "0x42", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,register", "flags_affected": "SZ", "notes": "Logical OR"},
    {"mnemonic": "XOR", "opcode": "0x44", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,register", "flags_affected": "SZ", "notes": "Logical XOR"},
    {"mnemonic": "NOT", "opcode": "0x45", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "SZ", "notes": "Bitwise NOT"},
    {"mnemonic": "SHL", "opcode": "0x46", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,register", "flags_affected": "SZ,CY", "notes": "Shift left"},
    {"mnemonic": "SHR", "opcode": "0x47", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,register", "flags_affected": "SZ,CY", "notes": "Shift right logical"},
    {"mnemonic": "SAR", "opcode": "0x48", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,register", "flags_affected": "SZ,CY", "notes": "Shift right arithmetic"},
    {"mnemonic": "MUL", "opcode": "0x50", "bytes": 2, "cycles": 8, "category": "multiply", "addressing_mode": "register,register", "flags_affected": "OV", "notes": "32x32 unsigned multiply"},
    {"mnemonic": "MULS", "opcode": "0x53", "bytes": 2, "cycles": 8, "category": "multiply", "addressing_mode": "register,register", "flags_affected": "OV", "notes": "32x32 signed multiply"},
    {"mnemonic": "DIV", "opcode": "0x54", "bytes": 2, "cycles": 22, "category": "divide", "addressing_mode": "register,register", "flags_affected": "OV", "notes": "32/32 unsigned divide"},
    {"mnemonic": "DIVS", "opcode": "0x57", "bytes": 2, "cycles": 22, "category": "divide", "addressing_mode": "register,register", "flags_affected": "OV", "notes": "Signed divide"},
    {"mnemonic": "FADD", "opcode": "0x60", "bytes": 2, "cycles": 7, "category": "float", "addressing_mode": "register,register", "flags_affected": "OV,UF", "notes": "Floating point add (slightly improved over V60)"},
    {"mnemonic": "FSUB", "opcode": "0x61", "bytes": 2, "cycles": 7, "category": "float", "addressing_mode": "register,register", "flags_affected": "OV,UF", "notes": "Floating point subtract"},
    {"mnemonic": "FMUL", "opcode": "0x62", "bytes": 2, "cycles": 9, "category": "float", "addressing_mode": "register,register", "flags_affected": "OV,UF", "notes": "Floating point multiply"},
    {"mnemonic": "FDIV", "opcode": "0x63", "bytes": 2, "cycles": 22, "category": "float", "addressing_mode": "register,register", "flags_affected": "OV,UF", "notes": "Floating point divide"},
    {"mnemonic": "BR", "opcode": "0x70", "bytes": 3, "cycles": 3, "category": "control", "addressing_mode": "relative", "flags_affected": "none", "notes": "Branch relative"},
    {"mnemonic": "BEQ", "opcode": "0x71", "bytes": 3, "cycles": 3, "category": "control", "addressing_mode": "relative", "flags_affected": "none", "notes": "Branch if equal"},
    {"mnemonic": "BNE", "opcode": "0x72", "bytes": 3, "cycles": 3, "category": "control", "addressing_mode": "relative", "flags_affected": "none", "notes": "Branch if not equal"},
    {"mnemonic": "JMP", "opcode": "0x7D", "bytes": 5, "cycles": 4, "category": "control", "addressing_mode": "absolute", "flags_affected": "none", "notes": "Jump absolute"},
    {"mnemonic": "JSR", "opcode": "0x80", "bytes": 5, "cycles": 6, "category": "control", "addressing_mode": "absolute", "flags_affected": "none", "notes": "Jump to subroutine"},
    {"mnemonic": "BSR", "opcode": "0x82", "bytes": 3, "cycles": 5, "category": "control", "addressing_mode": "relative", "flags_affected": "none", "notes": "Branch to subroutine"},
    {"mnemonic": "RTS", "opcode": "0x83", "bytes": 1, "cycles": 5, "category": "control", "addressing_mode": "implied", "flags_affected": "none", "notes": "Return from subroutine"},
    {"mnemonic": "TRAP", "opcode": "0x84", "bytes": 2, "cycles": 20, "category": "control", "addressing_mode": "immediate", "flags_affected": "none", "notes": "Software trap"},
    {"mnemonic": "RTE", "opcode": "0x85", "bytes": 1, "cycles": 18, "category": "control", "addressing_mode": "implied", "flags_affected": "all", "notes": "Return from exception"},
    {"mnemonic": "MOVS", "opcode": "0x90", "bytes": 3, "cycles": 5, "category": "string", "addressing_mode": "block", "flags_affected": "none", "notes": "String move (per iteration, slightly improved)"},
    {"mnemonic": "CMPS", "opcode": "0x91", "bytes": 3, "cycles": 7, "category": "string", "addressing_mode": "block", "flags_affected": "SZ,CY", "notes": "String compare (per iteration)"},
    {"mnemonic": "IN", "opcode": "0xA0", "bytes": 3, "cycles": 4, "category": "io", "addressing_mode": "register,port", "flags_affected": "none", "notes": "Input from I/O port"},
    {"mnemonic": "OUT", "opcode": "0xA1", "bytes": 3, "cycles": 4, "category": "io", "addressing_mode": "port,register", "flags_affected": "none", "notes": "Output to I/O port"},
    {"mnemonic": "TSET", "opcode": "0xB0", "bytes": 3, "cycles": 4, "category": "bit", "addressing_mode": "register,immediate", "flags_affected": "Z", "notes": "Test and set bit"},
    {"mnemonic": "TCLR", "opcode": "0xB1", "bytes": 3, "cycles": 4, "category": "bit", "addressing_mode": "register,immediate", "flags_affected": "Z", "notes": "Test and clear bit"},
    {"mnemonic": "TBIT", "opcode": "0xB3", "bytes": 3, "cycles": 3, "category": "bit", "addressing_mode": "register,immediate", "flags_affected": "Z", "notes": "Test bit"},
    {"mnemonic": "NOP", "opcode": "0xC0", "bytes": 1, "cycles": 1, "category": "nop", "addressing_mode": "implied", "flags_affected": "none", "notes": "No operation"},
    {"mnemonic": "HALT", "opcode": "0xC1", "bytes": 1, "cycles": 6, "category": "special", "addressing_mode": "implied", "flags_affected": "none", "notes": "Halt processor"},
    {"mnemonic": "EI", "opcode": "0xC2", "bytes": 1, "cycles": 2, "category": "special", "addressing_mode": "implied", "flags_affected": "none", "notes": "Enable interrupts"},
    {"mnemonic": "DI", "opcode": "0xC3", "bytes": 1, "cycles": 2, "category": "special", "addressing_mode": "implied", "flags_affected": "none", "notes": "Disable interrupts"}
  ]
}
