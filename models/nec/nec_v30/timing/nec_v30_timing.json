{
  "processor": "NEC V30",
  "manufacturer": "NEC",
  "year": 1984,
  "schema_version": "1.0",
  "source": "NEC V20/V30 User's Manual, 1984; base: NEC V20 (16-bit bus variant)",
  "instruction_count": 88,
  "notes": "The V30 is the 16-bit bus sibling of the V20. Same instruction set and timings as V20, but with 16-bit external bus (8086-compatible pinout) vs V20's 8-bit bus (8088-compatible). Memory access timings are identical per instruction; the bus width advantage manifests in word-aligned transfers. See nec_v20_timing.json for the full shared instruction set.",
  "instructions": [
    {"mnemonic": "MOV", "opcode": "0x89", "bytes": 2, "cycles": 2, "category": "data_transfer", "addressing_mode": "register,register", "flags_affected": "none", "notes": "Register to register"},
    {"mnemonic": "MOV", "opcode": "0xB8", "bytes": 3, "cycles": 2, "category": "data_transfer", "addressing_mode": "register,immediate", "flags_affected": "none", "notes": "Immediate to register, 8-bit"},
    {"mnemonic": "MOV", "opcode": "0xB8", "bytes": 4, "cycles": 2, "category": "data_transfer", "addressing_mode": "register,immediate16", "flags_affected": "none", "notes": "Immediate to register, 16-bit"},
    {"mnemonic": "MOV", "opcode": "0x8B", "bytes": 2, "cycles": 9, "category": "data_transfer", "addressing_mode": "register,memory", "flags_affected": "none", "notes": "Memory to register"},
    {"mnemonic": "MOV", "opcode": "0x89", "bytes": 2, "cycles": 9, "category": "data_transfer", "addressing_mode": "memory,register", "flags_affected": "none", "notes": "Register to memory"},
    {"mnemonic": "MOV", "opcode": "0xC7", "bytes": 4, "cycles": 10, "category": "data_transfer", "addressing_mode": "memory,immediate", "flags_affected": "none", "notes": "Immediate to memory"},
    {"mnemonic": "MOV", "opcode": "0x8E", "bytes": 2, "cycles": 2, "category": "data_transfer", "addressing_mode": "segreg,register", "flags_affected": "none", "notes": "Register to segment register"},
    {"mnemonic": "MOV", "opcode": "0x8C", "bytes": 2, "cycles": 2, "category": "data_transfer", "addressing_mode": "register,segreg", "flags_affected": "none", "notes": "Segment register to register"},
    {"mnemonic": "PUSH", "opcode": "0x50", "bytes": 1, "cycles": 3, "category": "stack", "addressing_mode": "register", "flags_affected": "none", "notes": "Push register to stack"},
    {"mnemonic": "POP", "opcode": "0x58", "bytes": 1, "cycles": 3, "category": "stack", "addressing_mode": "register", "flags_affected": "none", "notes": "Pop to register"},
    {"mnemonic": "PUSH", "opcode": "0x6A", "bytes": 2, "cycles": 3, "category": "stack", "addressing_mode": "immediate", "flags_affected": "none", "notes": "Push immediate (V20/V30 extension)"},
    {"mnemonic": "XCHG", "opcode": "0x90", "bytes": 1, "cycles": 3, "category": "data_transfer", "addressing_mode": "register,accumulator", "flags_affected": "none", "notes": "Exchange with accumulator"},
    {"mnemonic": "XLAT", "opcode": "0xD7", "bytes": 1, "cycles": 5, "category": "data_transfer", "addressing_mode": "implied", "flags_affected": "none", "notes": "Table lookup translation"},
    {"mnemonic": "LEA", "opcode": "0x8D", "bytes": 2, "cycles": 2, "category": "data_transfer", "addressing_mode": "register,memory", "flags_affected": "none", "notes": "Load effective address"},
    {"mnemonic": "LDS", "opcode": "0xC5", "bytes": 2, "cycles": 14, "category": "data_transfer", "addressing_mode": "register,memory", "flags_affected": "none", "notes": "Load pointer using DS"},
    {"mnemonic": "LES", "opcode": "0xC4", "bytes": 2, "cycles": 14, "category": "data_transfer", "addressing_mode": "register,memory", "flags_affected": "none", "notes": "Load pointer using ES"},
    {"mnemonic": "PUSHF", "opcode": "0x9C", "bytes": 1, "cycles": 3, "category": "stack", "addressing_mode": "implied", "flags_affected": "none", "notes": "Push flags"},
    {"mnemonic": "POPF", "opcode": "0x9D", "bytes": 1, "cycles": 5, "category": "stack", "addressing_mode": "implied", "flags_affected": "all", "notes": "Pop flags"},
    {"mnemonic": "ADD", "opcode": "0x01", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,register", "flags_affected": "OF,SF,ZF,AF,PF,CF", "notes": "Add register to register"},
    {"mnemonic": "ADD", "opcode": "0x83", "bytes": 3, "cycles": 2, "category": "alu", "addressing_mode": "register,immediate", "flags_affected": "OF,SF,ZF,AF,PF,CF", "notes": "Add immediate to register"},
    {"mnemonic": "ADD", "opcode": "0x03", "bytes": 2, "cycles": 9, "category": "alu", "addressing_mode": "register,memory", "flags_affected": "OF,SF,ZF,AF,PF,CF", "notes": "Add memory to register"},
    {"mnemonic": "ADD", "opcode": "0x01", "bytes": 2, "cycles": 13, "category": "alu", "addressing_mode": "memory,register", "flags_affected": "OF,SF,ZF,AF,PF,CF", "notes": "Add register to memory"},
    {"mnemonic": "SUB", "opcode": "0x29", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,register", "flags_affected": "OF,SF,ZF,AF,PF,CF", "notes": "Subtract register from register"},
    {"mnemonic": "SUB", "opcode": "0x83", "bytes": 3, "cycles": 2, "category": "alu", "addressing_mode": "register,immediate", "flags_affected": "OF,SF,ZF,AF,PF,CF", "notes": "Subtract immediate from register"},
    {"mnemonic": "CMP", "opcode": "0x39", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,register", "flags_affected": "OF,SF,ZF,AF,PF,CF", "notes": "Compare register to register"},
    {"mnemonic": "CMP", "opcode": "0x83", "bytes": 3, "cycles": 2, "category": "alu", "addressing_mode": "register,immediate", "flags_affected": "OF,SF,ZF,AF,PF,CF", "notes": "Compare immediate to register"},
    {"mnemonic": "INC", "opcode": "0x40", "bytes": 1, "cycles": 2, "category": "alu", "addressing_mode": "register16", "flags_affected": "OF,SF,ZF,AF,PF", "notes": "Increment 16-bit register"},
    {"mnemonic": "DEC", "opcode": "0x48", "bytes": 1, "cycles": 2, "category": "alu", "addressing_mode": "register16", "flags_affected": "OF,SF,ZF,AF,PF", "notes": "Decrement 16-bit register"},
    {"mnemonic": "NEG", "opcode": "0xF7", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "OF,SF,ZF,AF,PF,CF", "notes": "Two's complement negate"},
    {"mnemonic": "MUL", "opcode": "0xF7", "bytes": 2, "cycles": 26, "category": "multiply", "addressing_mode": "register8", "flags_affected": "OF,CF", "notes": "Unsigned multiply 8-bit"},
    {"mnemonic": "MUL", "opcode": "0xF7", "bytes": 2, "cycles": 35, "category": "multiply", "addressing_mode": "register16", "flags_affected": "OF,CF", "notes": "Unsigned multiply 16-bit"},
    {"mnemonic": "IMUL", "opcode": "0xF7", "bytes": 2, "cycles": 26, "category": "multiply", "addressing_mode": "register8", "flags_affected": "OF,CF", "notes": "Signed multiply 8-bit"},
    {"mnemonic": "IMUL", "opcode": "0xF7", "bytes": 2, "cycles": 35, "category": "multiply", "addressing_mode": "register16", "flags_affected": "OF,CF", "notes": "Signed multiply 16-bit"},
    {"mnemonic": "DIV", "opcode": "0xF7", "bytes": 2, "cycles": 16, "category": "divide", "addressing_mode": "register8", "flags_affected": "undefined", "notes": "Unsigned divide 8-bit"},
    {"mnemonic": "DIV", "opcode": "0xF7", "bytes": 2, "cycles": 24, "category": "divide", "addressing_mode": "register16", "flags_affected": "undefined", "notes": "Unsigned divide 16-bit"},
    {"mnemonic": "IDIV", "opcode": "0xF7", "bytes": 2, "cycles": 18, "category": "divide", "addressing_mode": "register8", "flags_affected": "undefined", "notes": "Signed divide 8-bit"},
    {"mnemonic": "IDIV", "opcode": "0xF7", "bytes": 2, "cycles": 27, "category": "divide", "addressing_mode": "register16", "flags_affected": "undefined", "notes": "Signed divide 16-bit"},
    {"mnemonic": "AND", "opcode": "0x21", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,register", "flags_affected": "OF,SF,ZF,PF,CF", "notes": "Logical AND"},
    {"mnemonic": "OR", "opcode": "0x09", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,register", "flags_affected": "OF,SF,ZF,PF,CF", "notes": "Logical OR"},
    {"mnemonic": "XOR", "opcode": "0x31", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,register", "flags_affected": "OF,SF,ZF,PF,CF", "notes": "Logical XOR"},
    {"mnemonic": "NOT", "opcode": "0xF7", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register", "flags_affected": "none", "notes": "One's complement"},
    {"mnemonic": "TEST", "opcode": "0x85", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,register", "flags_affected": "OF,SF,ZF,PF,CF", "notes": "Test (AND without storing)"},
    {"mnemonic": "SHL", "opcode": "0xD1", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,1", "flags_affected": "OF,SF,ZF,PF,CF", "notes": "Shift left by 1"},
    {"mnemonic": "SHR", "opcode": "0xD1", "bytes": 2, "cycles": 2, "category": "alu", "addressing_mode": "register,1", "flags_affected": "OF,SF,ZF,PF,CF", "notes": "Shift right by 1"},
    {"mnemonic": "JMP", "opcode": "0xE9", "bytes": 3, "cycles": 11, "category": "control", "addressing_mode": "near", "flags_affected": "none", "notes": "Jump near"},
    {"mnemonic": "JMP", "opcode": "0xEA", "bytes": 5, "cycles": 17, "category": "control", "addressing_mode": "far", "flags_affected": "none", "notes": "Jump far"},
    {"mnemonic": "JMP", "opcode": "0xEB", "bytes": 2, "cycles": 4, "category": "control", "addressing_mode": "short", "flags_affected": "none", "notes": "Jump short"},
    {"mnemonic": "CALL", "opcode": "0xE8", "bytes": 3, "cycles": 12, "category": "control", "addressing_mode": "near", "flags_affected": "none", "notes": "Call near procedure"},
    {"mnemonic": "CALL", "opcode": "0x9A", "bytes": 5, "cycles": 23, "category": "control", "addressing_mode": "far", "flags_affected": "none", "notes": "Call far procedure"},
    {"mnemonic": "RET", "opcode": "0xC3", "bytes": 1, "cycles": 12, "category": "control", "addressing_mode": "near", "flags_affected": "none", "notes": "Return from near procedure"},
    {"mnemonic": "RET", "opcode": "0xCB", "bytes": 1, "cycles": 17, "category": "control", "addressing_mode": "far", "flags_affected": "none", "notes": "Return from far procedure"},
    {"mnemonic": "JE", "opcode": "0x74", "bytes": 2, "cycles": 3, "category": "control", "addressing_mode": "short", "flags_affected": "none", "notes": "Jump if equal/zero; 3 taken, 1 not taken"},
    {"mnemonic": "JNE", "opcode": "0x75", "bytes": 2, "cycles": 3, "category": "control", "addressing_mode": "short", "flags_affected": "none", "notes": "Jump if not equal"},
    {"mnemonic": "JL", "opcode": "0x7C", "bytes": 2, "cycles": 3, "category": "control", "addressing_mode": "short", "flags_affected": "none", "notes": "Jump if less"},
    {"mnemonic": "JG", "opcode": "0x7F", "bytes": 2, "cycles": 3, "category": "control", "addressing_mode": "short", "flags_affected": "none", "notes": "Jump if greater"},
    {"mnemonic": "LOOP", "opcode": "0xE2", "bytes": 2, "cycles": 5, "category": "control", "addressing_mode": "short", "flags_affected": "none", "notes": "Loop CX times"},
    {"mnemonic": "INT", "opcode": "0xCD", "bytes": 2, "cycles": 32, "category": "control", "addressing_mode": "immediate", "flags_affected": "IF,TF", "notes": "Software interrupt"},
    {"mnemonic": "IRET", "opcode": "0xCF", "bytes": 1, "cycles": 22, "category": "control", "addressing_mode": "implied", "flags_affected": "all", "notes": "Return from interrupt"},
    {"mnemonic": "MOVSB", "opcode": "0xA4", "bytes": 1, "cycles": 5, "category": "string", "addressing_mode": "implied", "flags_affected": "none", "notes": "Move byte string element"},
    {"mnemonic": "MOVSW", "opcode": "0xA5", "bytes": 1, "cycles": 5, "category": "string", "addressing_mode": "implied", "flags_affected": "none", "notes": "Move word string element"},
    {"mnemonic": "CMPSB", "opcode": "0xA6", "bytes": 1, "cycles": 8, "category": "string", "addressing_mode": "implied", "flags_affected": "OF,SF,ZF,AF,PF,CF", "notes": "Compare byte strings"},
    {"mnemonic": "STOSB", "opcode": "0xAA", "bytes": 1, "cycles": 3, "category": "string", "addressing_mode": "implied", "flags_affected": "none", "notes": "Store byte string"},
    {"mnemonic": "LODSB", "opcode": "0xAC", "bytes": 1, "cycles": 3, "category": "string", "addressing_mode": "implied", "flags_affected": "none", "notes": "Load byte string"},
    {"mnemonic": "REP", "opcode": "0xF3", "bytes": 1, "cycles": 5, "category": "string", "addressing_mode": "prefix", "flags_affected": "none", "notes": "Repeat prefix"},
    {"mnemonic": "IN", "opcode": "0xE4", "bytes": 2, "cycles": 5, "category": "io", "addressing_mode": "accumulator,immediate", "flags_affected": "none", "notes": "Input from port"},
    {"mnemonic": "OUT", "opcode": "0xE6", "bytes": 2, "cycles": 5, "category": "io", "addressing_mode": "immediate,accumulator", "flags_affected": "none", "notes": "Output to port"},
    {"mnemonic": "NOP", "opcode": "0x90", "bytes": 1, "cycles": 1, "category": "nop", "addressing_mode": "implied", "flags_affected": "none", "notes": "No operation"},
    {"mnemonic": "CLC", "opcode": "0xF8", "bytes": 1, "cycles": 2, "category": "special", "addressing_mode": "implied", "flags_affected": "CF", "notes": "Clear carry flag"},
    {"mnemonic": "STC", "opcode": "0xF9", "bytes": 1, "cycles": 2, "category": "special", "addressing_mode": "implied", "flags_affected": "CF", "notes": "Set carry flag"},
    {"mnemonic": "CLI", "opcode": "0xFA", "bytes": 1, "cycles": 2, "category": "special", "addressing_mode": "implied", "flags_affected": "IF", "notes": "Clear interrupt flag"},
    {"mnemonic": "STI", "opcode": "0xFB", "bytes": 1, "cycles": 2, "category": "special", "addressing_mode": "implied", "flags_affected": "IF", "notes": "Set interrupt flag"},
    {"mnemonic": "HLT", "opcode": "0xF4", "bytes": 1, "cycles": 8, "category": "special", "addressing_mode": "implied", "flags_affected": "none", "notes": "Halt processor"},
    {"mnemonic": "TEST1", "opcode": "0x0F24", "bytes": 3, "cycles": 4, "category": "bit", "addressing_mode": "register,immediate", "flags_affected": "ZF,CF", "notes": "V20/V30-specific: Test bit"},
    {"mnemonic": "SET1", "opcode": "0x0F2C", "bytes": 3, "cycles": 4, "category": "bit", "addressing_mode": "register,immediate", "flags_affected": "ZF,CF", "notes": "V20/V30-specific: Set bit"},
    {"mnemonic": "CLR1", "opcode": "0x0F34", "bytes": 3, "cycles": 4, "category": "bit", "addressing_mode": "register,immediate", "flags_affected": "ZF,CF", "notes": "V20/V30-specific: Clear bit"},
    {"mnemonic": "NOT1", "opcode": "0x0F3C", "bytes": 3, "cycles": 4, "category": "bit", "addressing_mode": "register,immediate", "flags_affected": "ZF,CF", "notes": "V20/V30-specific: Complement bit"},
    {"mnemonic": "INS", "opcode": "0x0F31", "bytes": 3, "cycles": 12, "category": "bit", "addressing_mode": "register,imm4,imm4", "flags_affected": "none", "notes": "V20/V30-specific: Insert bit field"},
    {"mnemonic": "EXT", "opcode": "0x0F33", "bytes": 3, "cycles": 12, "category": "bit", "addressing_mode": "register,imm4,imm4", "flags_affected": "none", "notes": "V20/V30-specific: Extract bit field"},
    {"mnemonic": "ROL4", "opcode": "0x0F28", "bytes": 2, "cycles": 17, "category": "alu", "addressing_mode": "memory", "flags_affected": "none", "notes": "V20/V30-specific: Rotate nibble left through AL"},
    {"mnemonic": "ROR4", "opcode": "0x0F2A", "bytes": 2, "cycles": 17, "category": "alu", "addressing_mode": "memory", "flags_affected": "none", "notes": "V20/V30-specific: Rotate nibble right through AL"},
    {"mnemonic": "ADD4S", "opcode": "0x0F20", "bytes": 2, "cycles": 19, "category": "string", "addressing_mode": "implied", "flags_affected": "ZF,CF", "notes": "V20/V30-specific: BCD string addition"},
    {"mnemonic": "SUB4S", "opcode": "0x0F22", "bytes": 2, "cycles": 19, "category": "string", "addressing_mode": "implied", "flags_affected": "ZF,CF", "notes": "V20/V30-specific: BCD string subtraction"},
    {"mnemonic": "CMP4S", "opcode": "0x0F26", "bytes": 2, "cycles": 19, "category": "string", "addressing_mode": "implied", "flags_affected": "ZF,CF", "notes": "V20/V30-specific: BCD string compare"},
    {"mnemonic": "BRKEM", "opcode": "0x0FFF", "bytes": 2, "cycles": 38, "category": "special", "addressing_mode": "immediate", "flags_affected": "IF,TF", "notes": "V20/V30-specific: Enter 8080 emulation mode"},
    {"mnemonic": "PUSHA", "opcode": "0x60", "bytes": 1, "cycles": 9, "category": "stack", "addressing_mode": "implied", "flags_affected": "none", "notes": "Push all general registers"},
    {"mnemonic": "POPA", "opcode": "0x61", "bytes": 1, "cycles": 9, "category": "stack", "addressing_mode": "implied", "flags_affected": "none", "notes": "Pop all general registers"},
    {"mnemonic": "ENTER", "opcode": "0xC8", "bytes": 4, "cycles": 15, "category": "stack", "addressing_mode": "immediate16,immediate8", "flags_affected": "none", "notes": "Make stack frame"},
    {"mnemonic": "LEAVE", "opcode": "0xC9", "bytes": 1, "cycles": 5, "category": "stack", "addressing_mode": "implied", "flags_affected": "none", "notes": "Destroy stack frame"}
  ]
}
