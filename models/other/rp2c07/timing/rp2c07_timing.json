{
  "processor": "Ricoh RP2C07 PPU",
  "manufacturer": "Ricoh",
  "year": 1986,
  "schema_version": "1.0",
  "source": "RP2C07 PAL NES PPU documentation",
  "base_architecture": "rp2c02",
  "base_timing_reference": "models/other/rp2c02/timing/rp2c02_timing.json",
  "timing_notes": "PAL variant of RP2C02. Same register set and rendering pipeline. Key differences: 5.32 MHz master clock (vs 5.37 MHz NTSC), 312 scanlines per frame (vs 262), 50 Hz refresh (vs 60 Hz), 70 vblank scanlines (vs 20). Per-operation cycle counts are identical.",
  "instruction_count": 30,
  "instructions": [
    {"mnemonic": "PPUCTRL_WR", "opcode": "0x2000", "bytes": 1, "cycles": 3, "category": "io", "addressing_mode": "register_write", "flags_affected": "none", "notes": "Write PPU control register"},
    {"mnemonic": "PPUMASK_WR", "opcode": "0x2001", "bytes": 1, "cycles": 3, "category": "io", "addressing_mode": "register_write", "flags_affected": "none", "notes": "Write PPU mask"},
    {"mnemonic": "PPUSTATUS_RD", "opcode": "0x2002", "bytes": 1, "cycles": 2, "category": "io", "addressing_mode": "register_read", "flags_affected": "none", "notes": "Read PPU status"},
    {"mnemonic": "OAMADDR_WR", "opcode": "0x2003", "bytes": 1, "cycles": 3, "category": "io", "addressing_mode": "register_write", "flags_affected": "none", "notes": "Write OAM address"},
    {"mnemonic": "OAMDATA_WR", "opcode": "0x2004", "bytes": 1, "cycles": 4, "category": "io", "addressing_mode": "register_write", "flags_affected": "none", "notes": "Write OAM data"},
    {"mnemonic": "OAMDATA_RD", "opcode": "0x2004", "bytes": 1, "cycles": 4, "category": "io", "addressing_mode": "register_read", "flags_affected": "none", "notes": "Read OAM data"},
    {"mnemonic": "PPUSCROLL_WR", "opcode": "0x2005", "bytes": 1, "cycles": 3, "category": "io", "addressing_mode": "register_write", "flags_affected": "none", "notes": "Write scroll position"},
    {"mnemonic": "PPUADDR_WR", "opcode": "0x2006", "bytes": 1, "cycles": 3, "category": "io", "addressing_mode": "register_write", "flags_affected": "none", "notes": "Write VRAM address"},
    {"mnemonic": "PPUDATA_WR", "opcode": "0x2007", "bytes": 1, "cycles": 4, "category": "io", "addressing_mode": "register_write", "flags_affected": "none", "notes": "Write VRAM data"},
    {"mnemonic": "PPUDATA_RD", "opcode": "0x2007", "bytes": 1, "cycles": 4, "category": "io", "addressing_mode": "register_read", "flags_affected": "none", "notes": "Read VRAM data (buffered)"},
    {"mnemonic": "OAMDMA_WR", "opcode": "0x4014", "bytes": 1, "cycles": 513, "category": "io", "addressing_mode": "register_write", "flags_affected": "none", "notes": "OAM DMA transfer (513-514 CPU cycles)"},
    {"mnemonic": "BG_NT_FETCH", "opcode": "0x00", "bytes": 0, "cycles": 2, "category": "special", "addressing_mode": "internal", "flags_affected": "none", "notes": "Background nametable byte fetch"},
    {"mnemonic": "BG_AT_FETCH", "opcode": "0x00", "bytes": 0, "cycles": 2, "category": "special", "addressing_mode": "internal", "flags_affected": "none", "notes": "Background attribute byte fetch"},
    {"mnemonic": "BG_PTLO_FETCH", "opcode": "0x00", "bytes": 0, "cycles": 2, "category": "special", "addressing_mode": "internal", "flags_affected": "none", "notes": "Pattern table low byte fetch"},
    {"mnemonic": "BG_PTHI_FETCH", "opcode": "0x00", "bytes": 0, "cycles": 2, "category": "special", "addressing_mode": "internal", "flags_affected": "none", "notes": "Pattern table high byte fetch"},
    {"mnemonic": "SPR_Y_RD", "opcode": "0x00", "bytes": 0, "cycles": 1, "category": "special", "addressing_mode": "internal", "flags_affected": "none", "notes": "Sprite evaluation: read Y"},
    {"mnemonic": "SPR_TILE_RD", "opcode": "0x00", "bytes": 0, "cycles": 1, "category": "special", "addressing_mode": "internal", "flags_affected": "none", "notes": "Sprite evaluation: read tile index"},
    {"mnemonic": "SPR_ATTR_RD", "opcode": "0x00", "bytes": 0, "cycles": 1, "category": "special", "addressing_mode": "internal", "flags_affected": "none", "notes": "Sprite evaluation: read attributes"},
    {"mnemonic": "SPR_X_RD", "opcode": "0x00", "bytes": 0, "cycles": 1, "category": "special", "addressing_mode": "internal", "flags_affected": "none", "notes": "Sprite evaluation: read X"},
    {"mnemonic": "SPR_PTLO_FETCH", "opcode": "0x00", "bytes": 0, "cycles": 2, "category": "special", "addressing_mode": "internal", "flags_affected": "none", "notes": "Sprite pattern low byte fetch"},
    {"mnemonic": "SPR_PTHI_FETCH", "opcode": "0x00", "bytes": 0, "cycles": 2, "category": "special", "addressing_mode": "internal", "flags_affected": "none", "notes": "Sprite pattern high byte fetch"},
    {"mnemonic": "PIXEL_MUX", "opcode": "0x00", "bytes": 0, "cycles": 1, "category": "special", "addressing_mode": "internal", "flags_affected": "none", "notes": "Pixel priority multiplexer"},
    {"mnemonic": "HBLANK_IDLE", "opcode": "0x00", "bytes": 0, "cycles": 1, "category": "nop", "addressing_mode": "internal", "flags_affected": "none", "notes": "Horizontal blank idle"},
    {"mnemonic": "VBLANK_SET", "opcode": "0x00", "bytes": 0, "cycles": 1, "category": "special", "addressing_mode": "internal", "flags_affected": "vblank", "notes": "Set vblank at scanline 241 (70 vblank lines in PAL)"},
    {"mnemonic": "VBLANK_CLR", "opcode": "0x00", "bytes": 0, "cycles": 1, "category": "special", "addressing_mode": "internal", "flags_affected": "vblank", "notes": "Clear vblank at pre-render scanline"},
    {"mnemonic": "SPR0_HIT", "opcode": "0x00", "bytes": 0, "cycles": 1, "category": "special", "addressing_mode": "internal", "flags_affected": "sprite0hit", "notes": "Sprite 0 hit detection"},
    {"mnemonic": "OAM_CLEAR", "opcode": "0x00", "bytes": 0, "cycles": 2, "category": "special", "addressing_mode": "internal", "flags_affected": "none", "notes": "Secondary OAM clear"},
    {"mnemonic": "INCR_COARSE_X", "opcode": "0x00", "bytes": 0, "cycles": 1, "category": "special", "addressing_mode": "internal", "flags_affected": "none", "notes": "Increment coarse X scroll"},
    {"mnemonic": "INCR_FINE_Y", "opcode": "0x00", "bytes": 0, "cycles": 1, "category": "special", "addressing_mode": "internal", "flags_affected": "none", "notes": "Increment fine Y scroll"},
    {"mnemonic": "COPY_HORIZ", "opcode": "0x00", "bytes": 0, "cycles": 1, "category": "special", "addressing_mode": "internal", "flags_affected": "none", "notes": "Copy horizontal scroll bits"}
  ]
}
