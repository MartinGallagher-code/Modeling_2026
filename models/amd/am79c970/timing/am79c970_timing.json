{
  "processor": "AMD Am79C970 PCnet-PCI",
  "manufacturer": "AMD",
  "year": 1993,
  "schema_version": "1.0",
  "source": "Am79C970 PCnet-PCI Single-Chip Ethernet Controller datasheet, AMD 1993",
  "clock_mhz": 20.0,
  "instruction_count": 32,
  "notes": "The Am79C970 PCnet-PCI is a single-chip 10 Mbps Ethernet controller with an embedded processor for packet processing, DMA management, and MAC protocol handling. Operations are documented as internal controller commands rather than traditional CPU instructions. The embedded processor handles packet framing, address filtering, CRC generation/checking, and bus mastering DMA. Cycle counts represent internal operation execution times on the embedded 20 MHz controller.",
  "instructions": [
    {"mnemonic": "PKT_RX_INIT", "opcode": "0x00", "bytes": 1, "cycles": 4, "category": "io", "addressing_mode": "implicit", "flags_affected": "RX_STATUS", "notes": "Initialize receive packet descriptor. Sets up DMA buffer pointer and length"},
    {"mnemonic": "PKT_RX_FRAME", "opcode": "0x01", "bytes": 1, "cycles": 6, "category": "io", "addressing_mode": "implicit", "flags_affected": "RX_STATUS,CRC", "notes": "Receive frame from network. Includes address filtering and CRC check"},
    {"mnemonic": "PKT_TX_INIT", "opcode": "0x02", "bytes": 1, "cycles": 4, "category": "io", "addressing_mode": "implicit", "flags_affected": "TX_STATUS", "notes": "Initialize transmit packet descriptor. Sets up source buffer pointer"},
    {"mnemonic": "PKT_TX_FRAME", "opcode": "0x03", "bytes": 1, "cycles": 6, "category": "io", "addressing_mode": "implicit", "flags_affected": "TX_STATUS,CRC", "notes": "Transmit frame to network. Includes CRC generation and collision handling"},
    {"mnemonic": "PKT_FILTER", "opcode": "0x04", "bytes": 1, "cycles": 3, "category": "io", "addressing_mode": "implicit", "flags_affected": "MATCH", "notes": "Address filter check. Compares destination MAC against filter table"},
    {"mnemonic": "PKT_CRC_GEN", "opcode": "0x05", "bytes": 1, "cycles": 4, "category": "io", "addressing_mode": "implicit", "flags_affected": "CRC", "notes": "Generate CRC-32 for outgoing frame"},
    {"mnemonic": "PKT_CRC_CHK", "opcode": "0x06", "bytes": 1, "cycles": 4, "category": "io", "addressing_mode": "implicit", "flags_affected": "CRC_OK", "notes": "Verify CRC-32 on received frame"},
    {"mnemonic": "PKT_LOOPBACK", "opcode": "0x07", "bytes": 1, "cycles": 5, "category": "io", "addressing_mode": "implicit", "flags_affected": "LB_STATUS", "notes": "Internal loopback test frame processing"},
    {"mnemonic": "DMA_READ", "opcode": "0x08", "bytes": 1, "cycles": 2, "category": "memory", "addressing_mode": "register_indirect", "flags_affected": "DMA_STATUS", "notes": "DMA read from host memory (bus master). Per-word transfer"},
    {"mnemonic": "DMA_WRITE", "opcode": "0x09", "bytes": 1, "cycles": 2, "category": "memory", "addressing_mode": "register_indirect", "flags_affected": "DMA_STATUS", "notes": "DMA write to host memory (bus master). Per-word transfer"},
    {"mnemonic": "DMA_BURST_RD", "opcode": "0x0A", "bytes": 1, "cycles": 3, "category": "memory", "addressing_mode": "register_indirect", "flags_affected": "DMA_STATUS", "notes": "Burst DMA read. 3 cycles setup + 1 per additional word"},
    {"mnemonic": "DMA_BURST_WR", "opcode": "0x0B", "bytes": 1, "cycles": 3, "category": "memory", "addressing_mode": "register_indirect", "flags_affected": "DMA_STATUS", "notes": "Burst DMA write. 3 cycles setup + 1 per additional word"},
    {"mnemonic": "DMA_DESC_RD", "opcode": "0x0C", "bytes": 1, "cycles": 2, "category": "memory", "addressing_mode": "register_indirect", "flags_affected": "DESC_STATUS", "notes": "Read descriptor ring entry from host memory"},
    {"mnemonic": "DMA_DESC_WR", "opcode": "0x0D", "bytes": 1, "cycles": 2, "category": "memory", "addressing_mode": "register_indirect", "flags_affected": "DESC_STATUS", "notes": "Write descriptor ring entry to host memory"},
    {"mnemonic": "REG_READ", "opcode": "0x0E", "bytes": 1, "cycles": 1, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "none", "notes": "Read internal CSR (Control/Status Register)"},
    {"mnemonic": "REG_WRITE", "opcode": "0x0F", "bytes": 1, "cycles": 1, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "none", "notes": "Write internal CSR"},
    {"mnemonic": "REG_BCR_RD", "opcode": "0x10", "bytes": 1, "cycles": 1, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "none", "notes": "Read Bus Configuration Register"},
    {"mnemonic": "REG_BCR_WR", "opcode": "0x11", "bytes": 1, "cycles": 1, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "none", "notes": "Write Bus Configuration Register"},
    {"mnemonic": "BUF_ALLOC", "opcode": "0x12", "bytes": 1, "cycles": 3, "category": "memory", "addressing_mode": "implicit", "flags_affected": "BUF_STATUS", "notes": "Allocate internal FIFO buffer space"},
    {"mnemonic": "BUF_FREE", "opcode": "0x13", "bytes": 1, "cycles": 2, "category": "memory", "addressing_mode": "implicit", "flags_affected": "BUF_STATUS", "notes": "Free internal FIFO buffer space"},
    {"mnemonic": "BUF_FIFO_RD", "opcode": "0x14", "bytes": 1, "cycles": 1, "category": "memory", "addressing_mode": "implicit", "flags_affected": "none", "notes": "Read from internal FIFO"},
    {"mnemonic": "BUF_FIFO_WR", "opcode": "0x15", "bytes": 1, "cycles": 1, "category": "memory", "addressing_mode": "implicit", "flags_affected": "none", "notes": "Write to internal FIFO"},
    {"mnemonic": "CTRL_INIT", "opcode": "0x16", "bytes": 1, "cycles": 8, "category": "control", "addressing_mode": "implicit", "flags_affected": "all", "notes": "Controller initialization. Reads init block from host memory"},
    {"mnemonic": "CTRL_START", "opcode": "0x17", "bytes": 1, "cycles": 3, "category": "control", "addressing_mode": "implicit", "flags_affected": "RUN", "notes": "Start controller operation"},
    {"mnemonic": "CTRL_STOP", "opcode": "0x18", "bytes": 1, "cycles": 2, "category": "control", "addressing_mode": "implicit", "flags_affected": "RUN", "notes": "Stop controller operation"},
    {"mnemonic": "CTRL_RESET", "opcode": "0x19", "bytes": 1, "cycles": 4, "category": "control", "addressing_mode": "implicit", "flags_affected": "all", "notes": "Software reset. Restores default register values"},
    {"mnemonic": "INT_GEN", "opcode": "0x1A", "bytes": 1, "cycles": 2, "category": "control", "addressing_mode": "implicit", "flags_affected": "INT", "notes": "Generate PCI interrupt to host CPU"},
    {"mnemonic": "INT_ACK", "opcode": "0x1B", "bytes": 1, "cycles": 1, "category": "control", "addressing_mode": "implicit", "flags_affected": "INT", "notes": "Acknowledge and clear interrupt"},
    {"mnemonic": "MAC_COLLISION", "opcode": "0x1C", "bytes": 1, "cycles": 3, "category": "control", "addressing_mode": "implicit", "flags_affected": "COL_STATUS", "notes": "Handle collision detection and backoff (CSMA/CD)"},
    {"mnemonic": "MAC_BACKOFF", "opcode": "0x1D", "bytes": 1, "cycles": 4, "category": "control", "addressing_mode": "implicit", "flags_affected": "RETRY", "notes": "Calculate exponential backoff delay after collision"},
    {"mnemonic": "MAC_JAM", "opcode": "0x1E", "bytes": 1, "cycles": 2, "category": "control", "addressing_mode": "implicit", "flags_affected": "JAM", "notes": "Generate jam signal on collision"},
    {"mnemonic": "PHY_ACCESS", "opcode": "0x1F", "bytes": 1, "cycles": 3, "category": "io", "addressing_mode": "implicit", "flags_affected": "PHY_STATUS", "notes": "Access physical layer interface (MII/AUI/10BASE-T)"}
  ]
}
