{
  "processor": "AMD Am9511A Arithmetic Processing Unit",
  "manufacturer": "AMD",
  "year": 1977,
  "schema_version": "1.0",
  "source": "Am9511A/Am9512 Floating Point Processor datasheet, AMD 1979; Am9511 Technical Manual",
  "clock_mhz": 3.0,
  "instruction_count": 32,
  "notes": "Stack-based arithmetic processing unit for 8-bit microprocessor systems. Supports 16-bit and 32-bit fixed-point and 32-bit floating-point operations. Uses a 4-level internal operand stack. All operations pop operands from and push results to the stack. Cycle counts are typical values from the Am9511A datasheet at 3 MHz clock. Actual execution varies with operand values. Commands are sent via 8-bit data bus with a command/data select pin.",
  "instructions": [
    {"mnemonic": "SADD", "opcode": "0x6C", "bytes": 1, "cycles": 13, "category": "alu", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "16-bit signed integer add. TOS = NOS + TOS"},
    {"mnemonic": "SSUB", "opcode": "0x6D", "bytes": 1, "cycles": 13, "category": "alu", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "16-bit signed integer subtract. TOS = NOS - TOS"},
    {"mnemonic": "SMUL", "opcode": "0x6E", "bytes": 1, "cycles": 25, "category": "multiply", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "16-bit signed integer multiply. TOS = NOS * TOS. Returns 16-bit result"},
    {"mnemonic": "SMUU", "opcode": "0x76", "bytes": 1, "cycles": 25, "category": "multiply", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "16-bit signed integer multiply upper. Returns upper 16 bits of 32-bit result"},
    {"mnemonic": "SDIV", "opcode": "0x6F", "bytes": 1, "cycles": 32, "category": "divide", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "16-bit signed integer divide. TOS = NOS / TOS"},
    {"mnemonic": "DADD", "opcode": "0x2C", "bytes": 1, "cycles": 16, "category": "alu", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "32-bit signed integer add (double-precision fixed)"},
    {"mnemonic": "DSUB", "opcode": "0x2D", "bytes": 1, "cycles": 16, "category": "alu", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "32-bit signed integer subtract (double-precision fixed)"},
    {"mnemonic": "DMUL", "opcode": "0x2E", "bytes": 1, "cycles": 50, "category": "multiply", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "32-bit signed integer multiply. Returns 32-bit result"},
    {"mnemonic": "DMUU", "opcode": "0x36", "bytes": 1, "cycles": 50, "category": "multiply", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "32-bit signed integer multiply upper. Returns upper 32 bits"},
    {"mnemonic": "DDIV", "opcode": "0x2F", "bytes": 1, "cycles": 57, "category": "divide", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "32-bit signed integer divide"},
    {"mnemonic": "FADD", "opcode": "0x10", "bytes": 1, "cycles": 16, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "32-bit floating-point add. 14-18 cycles typical"},
    {"mnemonic": "FSUB", "opcode": "0x11", "bytes": 1, "cycles": 16, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "32-bit floating-point subtract. 14-18 cycles typical"},
    {"mnemonic": "FMUL", "opcode": "0x12", "bytes": 1, "cycles": 24, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "32-bit floating-point multiply. 21-27 cycles typical"},
    {"mnemonic": "FDIV", "opcode": "0x13", "bytes": 1, "cycles": 32, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "32-bit floating-point divide. 28-36 cycles typical"},
    {"mnemonic": "FSQRT", "opcode": "0x01", "bytes": 1, "cycles": 45, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "32-bit floating-point square root. 40-50 cycles typical"},
    {"mnemonic": "FSIN", "opcode": "0x02", "bytes": 1, "cycles": 100, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "Floating-point sine (radians). 75-125 cycles typical. CORDIC algorithm"},
    {"mnemonic": "FCOS", "opcode": "0x03", "bytes": 1, "cycles": 100, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "Floating-point cosine (radians). 75-125 cycles typical"},
    {"mnemonic": "FTAN", "opcode": "0x04", "bytes": 1, "cycles": 120, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "Floating-point tangent. 100-140 cycles typical"},
    {"mnemonic": "FASIN", "opcode": "0x05", "bytes": 1, "cycles": 130, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "Floating-point arc sine. 110-150 cycles typical"},
    {"mnemonic": "FACOS", "opcode": "0x06", "bytes": 1, "cycles": 130, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "Floating-point arc cosine. 110-150 cycles typical"},
    {"mnemonic": "FATAN", "opcode": "0x07", "bytes": 1, "cycles": 130, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "Floating-point arc tangent. 110-150 cycles typical"},
    {"mnemonic": "FLOG", "opcode": "0x08", "bytes": 1, "cycles": 80, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "Floating-point common logarithm (base 10). 65-95 cycles"},
    {"mnemonic": "FLN", "opcode": "0x09", "bytes": 1, "cycles": 80, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "Floating-point natural logarithm (base e). 65-95 cycles"},
    {"mnemonic": "FEXP", "opcode": "0x0A", "bytes": 1, "cycles": 80, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "Floating-point exponential (e^x). 65-95 cycles"},
    {"mnemonic": "FPWR", "opcode": "0x0B", "bytes": 1, "cycles": 150, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z,OV,UF,C", "notes": "Floating-point power (NOS^TOS). 130-170 cycles. Uses log/exp"},
    {"mnemonic": "SNEG", "opcode": "0x74", "bytes": 1, "cycles": 8, "category": "alu", "addressing_mode": "implicit", "flags_affected": "S,Z,OV", "notes": "16-bit integer negate (two's complement)"},
    {"mnemonic": "SABS", "opcode": "0x75", "bytes": 1, "cycles": 8, "category": "alu", "addressing_mode": "implicit", "flags_affected": "S,Z", "notes": "16-bit integer absolute value"},
    {"mnemonic": "DNEG", "opcode": "0x34", "bytes": 1, "cycles": 10, "category": "alu", "addressing_mode": "implicit", "flags_affected": "S,Z,OV", "notes": "32-bit integer negate"},
    {"mnemonic": "DABS", "opcode": "0x35", "bytes": 1, "cycles": 10, "category": "alu", "addressing_mode": "implicit", "flags_affected": "S,Z", "notes": "32-bit integer absolute value"},
    {"mnemonic": "FNEG", "opcode": "0x15", "bytes": 1, "cycles": 8, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z", "notes": "Floating-point negate. Flips sign bit"},
    {"mnemonic": "FABS", "opcode": "0x16", "bytes": 1, "cycles": 8, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z", "notes": "Floating-point absolute value. Clears sign bit"},
    {"mnemonic": "FLTD", "opcode": "0x1C", "bytes": 1, "cycles": 15, "category": "float", "addressing_mode": "implicit", "flags_affected": "S,Z", "notes": "Convert 32-bit integer to floating-point. Float(TOS)"}
  ]
}
