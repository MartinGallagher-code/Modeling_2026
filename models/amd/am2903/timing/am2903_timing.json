{
  "processor": "AMD Am2903",
  "manufacturer": "AMD",
  "year": 1976,
  "schema_version": "1.0",
  "source": "Am2903 Enhanced Four-Bit Bipolar Microprocessor Slice datasheet, AMD 1976",
  "clock_mhz": 10.0,
  "instruction_count": 24,
  "notes": "Enhanced 4-bit ALU bit-slice with hardware multiply support and priority encoder. Superset of Am2901 ALU functions with additional shift/multiply step operations. All operations execute in a single microinstruction cycle. The Am2903 adds multiply-step, divide-step, normalize, and priority-encode functions to the Am2901 base.",
  "instructions": [
    {"mnemonic": "ADD", "opcode": "0x0", "bytes": 1, "cycles": 1, "category": "alu", "addressing_mode": "register", "flags_affected": "C,OVR,F=0,F3", "notes": "R plus S. ALU function code 000. Same as Am2901"},
    {"mnemonic": "SUBR", "opcode": "0x1", "bytes": 1, "cycles": 1, "category": "alu", "addressing_mode": "register", "flags_affected": "C,OVR,F=0,F3", "notes": "S minus R. ALU function code 001"},
    {"mnemonic": "SUBS", "opcode": "0x2", "bytes": 1, "cycles": 1, "category": "alu", "addressing_mode": "register", "flags_affected": "C,OVR,F=0,F3", "notes": "R minus S. ALU function code 010"},
    {"mnemonic": "OR", "opcode": "0x3", "bytes": 1, "cycles": 1, "category": "alu", "addressing_mode": "register", "flags_affected": "F=0,F3", "notes": "R OR S. ALU function code 011"},
    {"mnemonic": "AND", "opcode": "0x4", "bytes": 1, "cycles": 1, "category": "alu", "addressing_mode": "register", "flags_affected": "F=0,F3", "notes": "R AND S. ALU function code 100"},
    {"mnemonic": "NOTRS", "opcode": "0x5", "bytes": 1, "cycles": 1, "category": "alu", "addressing_mode": "register", "flags_affected": "F=0,F3", "notes": "NOT(R) AND S. ALU function code 101"},
    {"mnemonic": "EXOR", "opcode": "0x6", "bytes": 1, "cycles": 1, "category": "alu", "addressing_mode": "register", "flags_affected": "F=0,F3", "notes": "R XOR S. ALU function code 110"},
    {"mnemonic": "EXNOR", "opcode": "0x7", "bytes": 1, "cycles": 1, "category": "alu", "addressing_mode": "register", "flags_affected": "F=0,F3", "notes": "R XNOR S. ALU function code 111"},
    {"mnemonic": "MPYS", "opcode": "0x8", "bytes": 1, "cycles": 1, "category": "multiply", "addressing_mode": "register", "flags_affected": "C,OVR,F=0,F3", "notes": "Signed multiply step. Performs one iteration of Booth's algorithm for signed multiplication. Requires N cycles for N-bit multiply"},
    {"mnemonic": "MPYU", "opcode": "0x9", "bytes": 1, "cycles": 1, "category": "multiply", "addressing_mode": "register", "flags_affected": "C,OVR,F=0,F3", "notes": "Unsigned multiply step. Performs one iteration of unsigned multiplication. Requires N cycles for N-bit multiply"},
    {"mnemonic": "DIVS", "opcode": "0xA", "bytes": 1, "cycles": 1, "category": "divide", "addressing_mode": "register", "flags_affected": "C,OVR,F=0,F3", "notes": "Signed divide step. Performs one iteration of signed division. Requires N+1 cycles for N-bit divide"},
    {"mnemonic": "DIVU", "opcode": "0xB", "bytes": 1, "cycles": 1, "category": "divide", "addressing_mode": "register", "flags_affected": "C,OVR,F=0,F3", "notes": "Unsigned divide step. Performs one iteration of unsigned division. Requires N+1 cycles for N-bit divide"},
    {"mnemonic": "SL", "opcode": "0xC", "bytes": 1, "cycles": 1, "category": "alu", "addressing_mode": "register", "flags_affected": "C,F=0,F3", "notes": "Shift left. Single-bit left shift through carry"},
    {"mnemonic": "SR", "opcode": "0xD", "bytes": 1, "cycles": 1, "category": "alu", "addressing_mode": "register", "flags_affected": "C,F=0,F3", "notes": "Shift right. Single-bit right shift through carry"},
    {"mnemonic": "SLA", "opcode": "0xE", "bytes": 1, "cycles": 1, "category": "alu", "addressing_mode": "register", "flags_affected": "C,OVR,F=0,F3", "notes": "Shift left arithmetic. Preserves sign bit"},
    {"mnemonic": "SRA", "opcode": "0xF", "bytes": 1, "cycles": 1, "category": "alu", "addressing_mode": "register", "flags_affected": "C,F=0,F3", "notes": "Shift right arithmetic. Sign-extends"},
    {"mnemonic": "NORM", "opcode": "0x10", "bytes": 1, "cycles": 1, "category": "alu", "addressing_mode": "register", "flags_affected": "F=0,F3", "notes": "Normalize step. Shifts left until MSB is 1. One step per cycle for floating-point normalization"},
    {"mnemonic": "PE", "opcode": "0x11", "bytes": 1, "cycles": 1, "category": "alu", "addressing_mode": "register", "flags_affected": "F=0,F3", "notes": "Priority encode. Finds position of highest set bit. Used for normalization count"},
    {"mnemonic": "SRC_AQ", "opcode": "0x0_src", "bytes": 1, "cycles": 1, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "none", "notes": "Source select: R=A, S=Q"},
    {"mnemonic": "SRC_AB", "opcode": "0x1_src", "bytes": 1, "cycles": 1, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "none", "notes": "Source select: R=A, S=B"},
    {"mnemonic": "SRC_ZQ", "opcode": "0x2_src", "bytes": 1, "cycles": 1, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "none", "notes": "Source select: R=0, S=Q"},
    {"mnemonic": "SRC_ZB", "opcode": "0x3_src", "bytes": 1, "cycles": 1, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "none", "notes": "Source select: R=0, S=B"},
    {"mnemonic": "SRC_ZA", "opcode": "0x4_src", "bytes": 1, "cycles": 1, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "none", "notes": "Source select: R=0, S=A"},
    {"mnemonic": "SRC_DA", "opcode": "0x5_src", "bytes": 1, "cycles": 1, "category": "data_transfer", "addressing_mode": "register", "flags_affected": "none", "notes": "Source select: R=D, S=A. External data input"}
  ]
}
