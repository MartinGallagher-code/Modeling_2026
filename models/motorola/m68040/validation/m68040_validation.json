{
  "processor": "Motorola 68040",
  "year": 1990,
  "specifications": {
    "data_width_bits": 32,
    "external_bus_bits": 32,
    "clock_mhz": 25.0,
    "transistors": 1200000,
    "technology": "0.8um CMOS",
    "package": "179-pin PGA",
    "address_bus_bits": 32
  },
  "timing": {
    "cycles_per_instruction_range": [
      1,
      60
    ],
    "typical_cpi": 2.0
  },
  "validated_performance": {
    "ips_min": 10000000,
    "ips_max": 20000000,
    "mips_typical": 20.0
  },
  "notes": "First 68K with on-chip FPU, 6-stage pipeline, 4KB caches",
  "model_accuracy": {
    "target_error_pct": 5,
    "confidence": "High"
  },
  "validation_date": "2026-01-29",
  "sources": [
    {
      "type": "datasheet",
      "name": "MC68040 User's Manual",
      "url": "http://www.bitsavers.org/components/motorola/68000/MC68040_Users_Manual.pdf",
      "verified": true
    },
    {
      "type": "wikichip",
      "name": "WikiChip 68040",
      "url": "https://en.wikichip.org/wiki/motorola/68040",
      "verified": true
    },
    {
      "type": "wikipedia",
      "name": "Wikipedia Motorola 68040",
      "url": "https://en.wikipedia.org/wiki/Motorola_68040",
      "verified": true
    }
  ],
  "timing_tests": [
    {
      "name": "NOP",
      "category": "control",
      "expected_cycles": 1,
      "model_category": "control",
      "model_cycles": 2.5,
      "notes": "No operation",
      "source": "datasheet"
    },
    {
      "name": "MOVE.L_Dn_Dn",
      "category": "data_transfer",
      "expected_cycles": 1,
      "model_category": "data_transfer",
      "model_cycles": 1.0,
      "notes": "Register-to-register move",
      "source": "datasheet"
    },
    {
      "name": "MOVE.L_mem_Dn",
      "category": "memory",
      "expected_cycles": 2,
      "model_category": "memory",
      "model_cycles": 2.5,
      "notes": "Memory to register (D-cache hit)",
      "source": "datasheet"
    },
    {
      "name": "MOVE.L_Dn_mem",
      "category": "memory",
      "expected_cycles": 2,
      "model_category": "memory",
      "model_cycles": 2.5,
      "notes": "Register to memory",
      "source": "datasheet"
    },
    {
      "name": "ADD.L_Dn_Dn",
      "category": "alu",
      "expected_cycles": 1,
      "model_category": "alu_reg",
      "model_cycles": 1.0,
      "notes": "32-bit register add",
      "source": "datasheet"
    },
    {
      "name": "ADD.L_mem_Dn",
      "category": "alu",
      "expected_cycles": 3,
      "model_category": "memory",
      "model_cycles": 2.5,
      "notes": "Memory operand add",
      "source": "datasheet"
    },
    {
      "name": "SUB.L_Dn_Dn",
      "category": "alu",
      "expected_cycles": 1,
      "model_category": "alu_reg",
      "model_cycles": 1.0,
      "notes": "32-bit register subtract",
      "source": "datasheet"
    },
    {
      "name": "MULU.L_Dn_Dn",
      "category": "multiply",
      "expected_cycles": 5,
      "model_category": "multiply",
      "model_cycles": 5.0,
      "notes": "32x32->64 unsigned multiply (pipelined)",
      "source": "datasheet"
    },
    {
      "name": "MULS.L_Dn_Dn",
      "category": "multiply",
      "expected_cycles": 5,
      "model_category": "multiply",
      "model_cycles": 5.0,
      "notes": "32x32->64 signed multiply (pipelined)",
      "source": "datasheet"
    },
    {
      "name": "DIVU.L_Dn_Dn",
      "category": "divide",
      "expected_cycles": 38,
      "model_category": "divide",
      "model_cycles": 38.0,
      "notes": "64/32 unsigned divide",
      "source": "datasheet"
    },
    {
      "name": "DIVS.L_Dn_Dn",
      "category": "divide",
      "expected_cycles": 38,
      "model_category": "divide",
      "model_cycles": 38.0,
      "notes": "64/32 signed divide",
      "source": "datasheet"
    },
    {
      "name": "BRA_taken",
      "category": "control",
      "expected_cycles": 3,
      "model_category": "control",
      "model_cycles": 2.5,
      "notes": "Branch taken",
      "source": "datasheet"
    },
    {
      "name": "BRA_not_taken",
      "category": "control",
      "expected_cycles": 1,
      "model_category": "control",
      "model_cycles": 2.5,
      "notes": "Branch not taken",
      "source": "datasheet"
    },
    {
      "name": "Bcc_taken",
      "category": "control",
      "expected_cycles": 3,
      "model_category": "control",
      "model_cycles": 2.5,
      "notes": "Conditional branch taken",
      "source": "datasheet"
    },
    {
      "name": "Bcc_not_taken",
      "category": "control",
      "expected_cycles": 1,
      "model_category": "control",
      "model_cycles": 2.5,
      "notes": "Conditional branch not taken",
      "source": "datasheet"
    },
    {
      "name": "JSR_abs",
      "category": "control",
      "expected_cycles": 4,
      "model_category": "control",
      "model_cycles": 2.5,
      "notes": "Jump to subroutine",
      "source": "datasheet"
    },
    {
      "name": "RTS",
      "category": "control",
      "expected_cycles": 5,
      "model_category": "control",
      "model_cycles": 2.5,
      "notes": "Return from subroutine",
      "source": "datasheet"
    },
    {
      "name": "CLR.L_Dn",
      "category": "alu",
      "expected_cycles": 1,
      "model_category": "alu_reg",
      "model_cycles": 1.0,
      "notes": "Clear register",
      "source": "datasheet"
    },
    {
      "name": "CMP.L_Dn_Dn",
      "category": "alu",
      "expected_cycles": 1,
      "model_category": "alu_reg",
      "model_cycles": 1.0,
      "notes": "Compare registers",
      "source": "datasheet"
    },
    {
      "name": "FADD.S",
      "category": "fp",
      "expected_cycles": 3,
      "model_category": "fp_ops",
      "model_cycles": 4.0,
      "notes": "FP single add (on-chip)",
      "source": "datasheet"
    },
    {
      "name": "FMUL.S",
      "category": "fp",
      "expected_cycles": 5,
      "model_category": "fp_ops",
      "model_cycles": 4.0,
      "notes": "FP single multiply (on-chip)",
      "source": "datasheet"
    },
    {
      "name": "FDIV.S",
      "category": "fp",
      "expected_cycles": 32,
      "model_category": "fp_ops",
      "model_cycles": 4.0,
      "notes": "FP single divide (on-chip)",
      "source": "datasheet"
    },
    {
      "name": "FSQRT.S",
      "category": "fp",
      "expected_cycles": 60,
      "model_category": "fp_ops",
      "model_cycles": 4.0,
      "notes": "FP single square root",
      "source": "datasheet"
    },
    {
      "name": "LEA_disp_An",
      "category": "data_transfer",
      "expected_cycles": 1,
      "model_category": "data_transfer",
      "model_cycles": 1.0,
      "notes": "Load effective address",
      "source": "datasheet"
    },
    {
      "name": "CINV",
      "category": "cache",
      "expected_cycles": 8,
      "model_category": "control",
      "model_cycles": 2.5,
      "notes": "Invalidate cache line",
      "source": "datasheet"
    }
  ],
  "cross_validation": {
    "family": "68K",
    "base_processor": "M68030",
    "relationship": "Deeply pipelined with on-chip FPU",
    "expected_relative_performance": {
      "vs_m68030": "2-3x faster at same clock",
      "vs_m68020": "3-4x faster",
      "vs_m68060": "2-3x slower"
    },
    "timing_consistency": {
      "instruction_cache": "4KB 4-way set-associative",
      "data_cache": "4KB 4-way set-associative",
      "pipeline_stages": 6,
      "fpu": "On-chip pipelined FPU"
    },
    "architectural_notes": [
      "First 68K with on-chip FPU",
      "6-stage integer pipeline",
      "4KB I-cache, 4KB D-cache",
      "Pipelined multiply (5 cycles)",
      "Most integer ops approach 1 CPI",
      "Used in Mac Quadra, Amiga 4000, NeXTstation Turbo"
    ]
  },
  "cache_system": {
    "instruction_cache_bytes": 4096,
    "data_cache_bytes": 4096,
    "cache_type": "4-way set associative",
    "line_size_bytes": 16,
    "i_cache_hit_rate": 0.95,
    "d_cache_hit_rate": 0.92,
    "hit_cycles": 1,
    "miss_cycles": 8,
    "write_policy": "Copy-back with write allocation"
  },
  "fpu": {
    "on_chip": true,
    "compatibility": "68881/68882 compatible",
    "performance": "Much faster than external FPU"
  },
  "pipeline": {
    "stages": 6,
    "description": [
      "Fetch",
      "Decode",
      "EA Calculate",
      "EA Fetch",
      "Execute",
      "Write-back"
    ],
    "integer_throughput": "Approaching 1 IPC",
    "branch_prediction": "Simple static prediction"
  },
  "accuracy": {
    "expected_cpi": 2.0,
    "expected_ipc": 0.5,
    "validated_workloads": [
      "typical",
      "compute",
      "memory",
      "control",
      "mixed"
    ],
    "predicted_cpi": 2.035,
    "cpi_error_percent": 1.75,
    "ipc_error_percent": 1.75,
    "validation_passed": true,
    "fully_validated": true,
    "validation_date": "2026-01-29",
    "sysid_loss_before": 0.0,
    "sysid_loss_after": 0.0,
    "sysid_cpi_error_percent": 0.0,
    "sysid_converged": true,
    "sysid_date": "2026-01-30"
  }
}